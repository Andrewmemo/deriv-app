/*! For license information please see account-limits.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","react","react-dom"],t):"object"==typeof exports?exports["@deriv/account"]=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("react"),require("react-dom")):e["@deriv/account"]=t(e["@deriv/components"],e["@deriv/shared"],e["@deriv/translations"],e.react,e["react-dom"])}(self,(function(e,t,n,r,a){return(()=>{var i={"./Components/demo-message/index.js":(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n("react"),a=n.n(r),i=n("@deriv/translations"),o=n("../../../node_modules/prop-types/index.js"),l=n.n(o),c=n("@deriv/components"),s=function(e){var t=e.icon,n=e.message;return r.createElement("div",{className:"da-icon-with-message"},r.createElement(c.Icon,{icon:t,size:128}),r.createElement(c.Text,{className:"da-icon-with-message__text",as:"p",color:"general",size:"s",line_height:"m",weight:"bold"},n))};s.propTypes={icon:l().string.isRequired,message:l().string.isRequired};const m=s,u=function(){return a().createElement(m,{icon:"IcPoaLock",message:(0,i.localize)("This feature is not available for demo accounts.")})}},"./Components/icon-message-content/index.js":(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var r=n("react"),a=n.n(r),i=n("../../../node_modules/classnames/index.js"),o=n.n(i),l=n("@deriv/components"),c=n("@deriv/shared");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=function(e){var t=e.className,n=e.children,r=e.icon,i=e.icon_row,m=e.message,u=e.text;return a().createElement(l.Div100vhContainer,{className:"account-management__message-wrapper",is_disabled:(0,c.isDesktop)(),height_offset:"110px"},a().createElement("div",{className:o()("account-management__message-content",s({},"".concat(t,"__message-content"),t))},r&&a().createElement("div",{className:o()("account-management__message-icon",s({},"".concat(t,"__message-icon"),t))},r),i&&a().createElement("div",null,i),a().createElement("div",{className:o()("account-management__message",s({},"".concat(t,"__message"),t))},m),u&&a().createElement("div",{className:"account-management__text-container"},a().createElement(l.Text,{className:o()(s({},"".concat(t,"__text"),t)),as:"p",size:"xs",align:"center"},u)),n))}},"./Components/load-error-message/index.js":(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n("react"),a=n.n(r),i=n("@deriv/components"),o=n("./Components/icon-message-content/index.js");const l=function(e){var t=e.error_message;return a().createElement(o.default,{message:t,icon:a().createElement(i.Icon,{icon:"IcPoaLock",size:128})})}},"../../../node_modules/classnames/index.js":(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===i)for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,n)=>{"use strict";var r=n("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},"../../../node_modules/prop-types/index.js":(e,t,n)=>{e.exports=n("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"@deriv/components":t=>{"use strict";t.exports=e},"@deriv/shared":e=>{"use strict";e.exports=t},"@deriv/translations":e=>{"use strict";e.exports=n},react:e=>{"use strict";e.exports=r},"react-dom":e=>{"use strict";e.exports=a}},o={};function l(e){if(o[e])return o[e].exports;var t=o[e]={exports:{}};return i[e](t,t.exports,l),t.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var c={};return(()=>{"use strict";l.d(c,{default:()=>N});var e=l("../../../node_modules/prop-types/index.js"),t=l.n(e),n=l("react"),r=l("../../../node_modules/classnames/index.js"),a=l.n(r),i=l("@deriv/components"),o=l("@deriv/shared"),s=l("@deriv/translations"),m=l("./Components/load-error-message/index.js"),u=l("./Components/demo-message/index.js"),d=function(e){var t=e.title,r=e.descriptions,a=e.onClickLearnMore,o=(null==r?void 0:r.length)>0,l=1===(null==r?void 0:r.length);return n.createElement("article",{className:"da-article"},n.createElement(i.Text,{as:"h4",color:"prominent",line_height:"m",size:"xs",weight:"bold",className:"da-article__header"},t),o&&n.createElement(n.Fragment,null,l?n.createElement(i.Text,{as:"p",size:"xxs",line_height:"m"},r[0]):n.createElement("ul",{className:"da-article__list"},r.map((function(e,t){return n.createElement("li",{key:t},n.createElement(i.Text,{size:"xxs",line_height:"xs"},e))})))),a&&n.createElement("div",{className:"da-article__learn-more",onClick:a},n.createElement(i.Text,{size:"xxs",color:"loss-danger",line_height:"s"},n.createElement(s.Localize,{i18n_default_text:"Learn more"})),n.createElement(i.Icon,{icon:"IcChevronRight",className:"da-article__learn-more-icon",color:"red"})))};d.propTypes={descriptions:t().array.isRequired,onClickLearnMore:t().func,title:t().string.isRequired};const p=d,f=function(){return n.createElement(p,{title:(0,s.localize)("Account limits"),descriptions:[n.createElement(s.Localize,{key:0,i18n_default_text:"These are default limits that we apply to your accounts."}),n.createElement(s.Localize,{key:1,i18n_default_text:"To learn more about trading limits and how they apply, please go to the <0>Help Centre.</0>",components:[n.createElement(i.StaticUrl,{key:0,className:"link",href:"/help-centre"})]})]})},_=n.createContext();function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e){var t=e.message,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["message"]);return(0,o.isMobile)()?n.createElement(i.Text,{color:"less-prominent",line_height:"s",size:"xxxs"},t):n.createElement(i.Popover,h({alignment:"right",className:"da-account-limits__popover",icon:"info",message:t,zIndex:9999},r))};g.propTypes={message:t().string.isRequired};const y=g;var E=l("react-dom");const v=function(){var e=n.useContext(_),t=e.footer_ref,r=e.toggleOverlay;return(0,E.createPortal)(n.createElement(i.AppSettings.Footer,null,n.createElement(i.AppSettings.Footer.Left,null,n.createElement("a",{className:"link link--prominent",onClick:r},n.createElement(i.Text,{size:"xxs",line_height:"m",weight:"bold"},n.createElement(s.Localize,{i18n_default_text:"Learn more about account limits"}))))),t)},x=function(){var e=n.useContext(_),t=e.overlay_ref,r=e.toggleOverlay;return n.createElement(i.Popup.Overlay,{descriptions:[{key:"account_limits_desc_1",component:n.createElement(s.Localize,{i18n_default_text:"These are default limits that we apply to your accounts."})},{key:"account_limits_desc_2",component:n.createElement(s.Localize,{i18n_default_text:"To learn more about account limits and how they apply, please go to the <0>Help Centre</0>.",components:[n.createElement(i.StaticUrl,{key:0,className:"link",href:"/help-centre"})]})}],done_text:(0,s.localize)("Done"),overlay_ref:t,title:(0,s.localize)("Account limits"),toggleOverlay:r})};var b=function(e){var t=e.align,r=e.children,o=e.is_hint,l=e.renderExtraInfo,c=o?"xxxs":"xxs";return n.createElement(n.Fragment,null,n.createElement("td",{className:a()("da-account-limits__table-cell",{"da-account-limits__table-cell--left":"right"!==t,"da-account-limits__table-cell--right":"right"===t})},r&&n.createElement(i.Text,{align:t,as:"p",color:"prominent",size:c,line_height:"m"},r),l&&l()))};b.propTypes={align:t().oneOf(["right","left"]),children:t().any,is_hint:t().bool,renderExtraInfo:t().func};const w=b;var O=function(e){var t=e.align,r=e.children,o=e.renderExtraInfo;return n.createElement("th",{className:a()("da-account-limits__table-header",{"da-account-limits__table-header--left":"right"!==t,"da-account-limits__table-header--right":"right"===t})},r&&n.createElement(i.Text,{align:t,as:"p",color:"prominent",size:"xxs",line_height:"m",weight:"bold"},r),o&&o())};O.propTypes={align:t().oneOf(["right","left"]),children:t().any};const j=O;var z=function(e){var t=e.collection,r=e.title,a=n.useContext(_).currency;return null!=t&&t.length?t.map((function(e){return n.createElement("tr",{key:e.name},n.createElement(w,null,r&&"".concat(r," - "),e.name),n.createElement(w,{align:"right"},(0,o.formatMoney)(a,e.turnover_limit,!0)))})):null};z.propTypes={collection:t().arrayOf(t().any),title:t().any};const T=z;function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){var t=e.account_limits,r=e.currency,l=e.footer_ref,c=e.getLimits,d=e.is_app_settings,p=e.is_fully_authenticated,h=e.is_switching,g=e.is_virtual,E=e.overlay_ref,b=e.setIsOverlayShown,O=e.should_bypass_scrollbars,z=e.should_show_article,k=(0,o.useIsMounted)(),I=S(n.useState(!1),2),N=I[0],C=I[1],R=S(n.useState(!1),2),q=R[0],M=R[1];if(n.useEffect((function(){g?C(!1):c().then((function(){k()&&C(!1)}))}),[]),n.useEffect((function(){!g&&t&&N&&C(!1)}),[t,g,N]),n.useEffect((function(){"function"==typeof b&&b(q)}),[q,b]),h)return n.createElement(i.Loading,{is_fullscreen:!1});if(g)return n.createElement(u.default,null);var A=t.api_initial_load_error,D=t.open_positions,F=t.account_balance,W=t.payout,U=t.market_specific,H=t.num_of_days_limit,Y=t.remainder,B=t.withdrawal_since_inception_monetary;if(A)return n.createElement(m.default,{error_message:A});if(h||N)return n.createElement(i.Loading,{is_fullscreen:!1});var V=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},U),$=V.commodities,G=V.forex,J=V.indices,K=V.synthetic_index,Q=null==G?void 0:G.slice().sort((function(e,t){return e.name<t.name?1:-1}));Q&&Q.push&&Q.push(Q.shift());var X={currency:r,footer_ref:l,overlay_ref:E,toggleOverlay:function(){return M(!q)}};return n.createElement(_.Provider,{value:X},n.createElement("section",{className:"da-account-limits__wrapper"},n.createElement("div",{className:a()("da-account-limits",{"da-account-limits--app-settings":d})},z&&(0,o.isMobile)()&&n.createElement(f,null),n.createElement("div",{className:"da-account-limits__table-wrapper"},n.createElement(i.ThemedScrollbars,{is_bypassed:O||(0,o.isMobile)()},n.createElement("table",{className:"da-account-limits__table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement(j,null,n.createElement(s.Localize,{i18n_default_text:"Trading limits - Item"})),n.createElement(j,{align:"right"},n.createElement(s.Localize,{i18n_default_text:"Limit"})))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement(w,{renderExtraInfo:function(){return n.createElement(y,{message:(0,s.localize)("Represents the maximum number of outstanding contracts in your portfolio. Each line in your portfolio counts for one open position. Once the maximum is reached, you will not be able to open new positions without closing an existing position first.")})}},n.createElement(s.Localize,{i18n_default_text:"*Maximum number of open positions"})),n.createElement(w,{align:"right"},D)),n.createElement("tr",null,n.createElement(w,{renderExtraInfo:function(){return n.createElement(y,{message:(0,s.localize)("Represents the maximum amount of cash that you may hold in your account.  If the maximum is reached, you will be asked to withdraw funds.")})}},n.createElement(s.Localize,{i18n_default_text:"*Maximum account cash balance"})),n.createElement(w,{align:"right"},(0,o.formatMoney)(r,F,!0))),n.createElement("tr",null,n.createElement(w,{renderExtraInfo:function(){return n.createElement(y,{message:(0,s.localize)("Represents the maximum aggregate payouts on outstanding contracts in your portfolio. If the maximum is attained, you may not purchase additional contracts without first closing out existing positions.")})}},n.createElement(s.Localize,{i18n_default_text:"Maximum aggregate payouts on open positions"})),n.createElement(w,{align:"right"},(0,o.formatMoney)(r,W,!0))),n.createElement("tr",null,n.createElement(w,{is_hint:!0},n.createElement(s.Localize,{i18n_default_text:"*Any limits in your Self-exclusion settings will override these default limits."})),n.createElement(w,null)))),n.createElement("table",{className:"da-account-limits__table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement(j,{renderExtraInfo:function(){return n.createElement(y,{message:(0,s.localize)("Represents the maximum volume of contracts that you may purchase in any given trading day.")})}},n.createElement(s.Localize,{i18n_default_text:"Trading limits - Maximum daily turnover"})),n.createElement(j,{align:"right"},n.createElement(s.Localize,{i18n_default_text:"Limit"})))),n.createElement("tbody",null,n.createElement(T,{collection:$}),n.createElement(T,{collection:Q,title:(0,s.localize)("Forex")}),n.createElement(T,{collection:J}),n.createElement(T,{collection:K}))),!d&&n.createElement(n.Fragment,null,n.createElement("table",{className:"da-account-limits__table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement(j,null,n.createElement(s.Localize,{i18n_default_text:"Withdrawal limits"})),p&&n.createElement(j,{align:"right"},n.createElement(s.Localize,{i18n_default_text:"Limit"})))),n.createElement("tbody",null,!p&&n.createElement(n.Fragment,null,n.createElement("tr",null,n.createElement(w,null,n.createElement(s.Localize,{i18n_default_text:"Total withdrawal allowed"})),n.createElement(w,{align:"right"},(0,o.formatMoney)(r,H,!0))),n.createElement("tr",null,n.createElement(w,null,n.createElement(s.Localize,{i18n_default_text:"Total withdrawn"})),n.createElement(w,{align:"right"},(0,o.formatMoney)(r,B,!0))),n.createElement("tr",null,n.createElement(w,null,n.createElement(s.Localize,{i18n_default_text:"Maximum withdrawal remaining"})),n.createElement(w,{align:"right"},(0,o.formatMoney)(r,Y,!0)))))),n.createElement("div",{className:"da-account-limits__text-container"},n.createElement(i.Text,{as:"p",size:"xxs",color:"less-prominent",line_height:"xs"},p?n.createElement(s.Localize,{i18n_default_text:"Your account is fully authenticated and your withdrawal limits have been lifted."}):n.createElement(s.Localize,{i18n_default_text:"Stated limits are subject to change without prior notice."})))))),z&&(0,o.isDesktop)()&&n.createElement(f,null),l&&n.createElement(v,null),q&&E&&n.createElement(x,null))))};I.propTypes={account_limits:t().object,currency:t().string.isRequired,footer_ref:t().shape({current:t().any}),is_app_settings:t().bool,getLimits:t().func.isRequired,is_fully_authenticated:t().bool.isRequired,is_switching:t().bool.isRequired,is_virtual:t().bool.isRequired,overlay_ref:t().shape({current:t().any}),setIsPopupOverlayShown:t().func,should_bypass_scrollbars:t().bool,should_show_article:t().bool};const N=I})(),c.default})()}));