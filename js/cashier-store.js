!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("react")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","mobx","react"],t):"object"==typeof exports?exports["@deriv/cashier"]=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("react")):e["@deriv/cashier"]=t(e["@deriv/components"],e["@deriv/shared"],e["@deriv/translations"],e.mobx,e.react)}(self,(function(e,t,r,n,o){return(()=>{var i,s,a,c,u={"./Stores/Cashier/cashier-store.js":(e,t,r)=>{"use strict";r.d(t,{default:()=>Qn});var n=r("react"),o=r.n(n),i=r("mobx"),s=r("@deriv/shared"),a=r("@deriv/translations");const c=function(e){return{icon:{dark:"IcCashierBanxaDark",light:"IcCashierBanxaLight"},name:"Banxa",getDescription:function(){return(0,a.localize)("A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"},{dark:"IcCashierBpayDark",light:"IcCashierBpayLight"},{dark:"IcCashierSepaDark",light:"IcCashierSepaLight"},{dark:"IcCashierBlueshyftDark",light:"IcCashierBlueshyftLight"},{dark:"IcCashierFlexepinDark",light:"IcCashierFlexepinLight"},{dark:"IcCashierPayIdDark",light:"IcCashierPayIdLight"},{dark:"IcCashierPoliDark",light:"IcCashierPoliLight"},{dark:"IcCashierApplePay",light:"IcCashierApplePay"},{dark:"IcCashierInteracEtransfer",light:"IcCashierInteracEtransfer"},{dark:"IcCashierIdeal",light:"IcCashierIdeal"},{dark:"IcCashierPostBillPayDark",light:"IcCashierPostBillPayLight"},{dark:"IcCashierSofort",light:"IcCashierSofort"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return""},getFromCurrencies:function(){return["*"]},getToCurrencies:function(){return["*"]},getWidgetHtml:function(){return new Promise((function(t,r){e.WS.serviceToken({service_token:1,service:"banxa",referrer:window.location.href}).then((function(e){if(e.error)r(e.error.message);else{var n=e.service_token.banxa.url;n&&window.open(n),t()}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}},u=function(e){return{icon:{dark:"IcCashierChangellyDark",light:"IcCashierChangellyLight"},name:"Changelly",getDescription:function(){return(0,a.localize)("Your simple access to crypto. Fast and secure way to exchange and purchase cryptocurrencies. 24/7 live chat support.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return"usd"},getFromCurrencies:function(){return["usd","eur","gbp"]},getToCurrencies:function(){return["bch","btc","etc","eth","ltc","ust"]},getWidgetHtml:function(){var t=this;return new Promise((function(r){var n=new URL("https://widget.changelly.com/?v=3&theme=default");n.searchParams.append("fromDefault",t.getDefaultFromCurrency());var o=e.root_store.client.currency.toLowerCase();if(t.getToCurrencies().includes(o)){var i="ust"===o?"usdt":o;n.searchParams.append("to",i),n.searchParams.append("toDefault",i)}n.searchParams.append("amount",1),n.searchParams.append("merchant_id","iiq3jdt2p44yrfbx"),window.open(n),r()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!0}},p=function(e){return{icon:{dark:"IcCashierWyreDark",light:"IcCashierWyreLight"},name:"Wyre",getDescription:function(){return(0,a.localize)("A secure and compliant bridge between fiat currencies and cryptocurrencies. Supports BTC, ETH, WETH, and DAI. Exchange crypto safely and securely with Wyre.")},getAllowedResidencies:function(){return["ar","at","au","be","bo","br","by","ca","ch","cl","co","cr","cy","cz","de","dk","do","dz","ee","es","fi","fr","fr","gb","gr","hk","id","ie","il","in","is","it","jp","kr","lt","lu","lv","mx","my","nl","no","np","nz","pe","ph","pl","pt","py","se","sg","si","sk","th","tr","tz","vn","za"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return"usd"},getFromCurrencies:function(){return["eur","aud","usd","brl","cad","gbp","mxn"]},getToCurrencies:function(){return["btc","eth","husd","weth","usdt","usdc","busd","dai","gusd","pax"]},getWidgetHtml:function(){return new Promise((function(t,r){e.WS.serviceToken({service_token:1,service:"wyre"}).then((function(e){if(e.error)r(e.error.message);else{var n=e.service_token.wyre.url;n&&window.open(n),t()}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}},l=function(e){return{icon:{dark:"IcCashierXanpoolDark",light:"IcCashierXanpoolLight"},name:"XanPool",getDescription:function(){return(0,a.localize)("Buy cryptocurrencies in an instant. Enjoy easy, quick, and secure exchanges using your local payment methods.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierFpsDark",light:"IcCashierFpsLight"},{dark:"IcCashierAliPayDark",light:"IcCashierAliPayLight"},{dark:"IcCashierGoPayDark",light:"IcCashierGoPayLight"},{dark:"IcCashierMandiriPay",light:"IcCashierMandiriPay"},{dark:"IcCashierInstaPayLight",light:"IcCashierInstaPayDark"},{dark:"IcCashierCebuanaLhuillierDark",light:"IcCashierCebuanaLhuillierLight"},{dark:"IcCashierPayNowDark",light:"IcCashierPayNowLight"},{dark:"IcCashierUpiDark",light:"IcCashierUpiLight"},{dark:"IcCashierPromptPayDark",light:"IcCashierPromptPayLight"},{dark:"IcCashierViettlePay",light:"IcCashierViettlePay"}]},getScriptDependencies:function(){return[]},getToCurrencies:function(){return["btc","eth","ust","zil","nem"]},getWidgetHtml:function(){return new Promise((function(t){var r=e.root_store.client.currency,n="https://checkout.xanpool.com/";n+="?apiKey=db4ec638dff9a68abda1ef6b7638c220",n+="&redirectUrl=".concat(window.location.href),n+="&wallet=".concat(e.deposit_address),n+="&cryptoCurrency=".concat("UST"===r?"USDT":r),n+="&transactionType=buy",window.open(n),t()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}};var f=r("./_common/utility.js");function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,r;return t=e,(r=[{key:"add",value:function(e,t){this.has(e)||(this.errors[e]=[]),-1===this.errors[e].indexOf(t)&&this.errors[e].push(t)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(e){return this.has(e)?this.errors[e][0]:null}},{key:"get",value:function(e){return this.has(e)?this.errors[e]:[]}},{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}}])&&h(t.prototype,r),e}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const g=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(this,e),this.input=t,this.rules=r,this.store=n,this.errors=new d,this.error_count=0}var t,r,n;return t=e,n=[{key:"getRuleObject",value:function(e){var t="string"==typeof e,r={name:t?e:e[0],options:t?{}:e[1]||{}};return r.validator="custom"===r.name?e[1].func:(0,s.getPreBuildDVRs)()[r.name].func,r}}],(r=[{key:"addFailure",value:function(e,t,r){var n=r||t.options.message||(0,s.getPreBuildDVRs)()[t.name].message();"length"===t.name?n=(0,f.template)(n,[t.options.min===t.options.max?t.options.min:"".concat(t.options.min,"-").concat(t.options.max)]):"min"===t.name?n=(0,f.template)(n,[t.options.min]):"not_equal"===t.name&&(n=(0,f.template)(n,[t.options.name1,t.options.name2])),this.errors.add(e,n),this.error_count++}},{key:"check",value:function(){var t=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(t.rules,r)&&t.rules[r].forEach((function(n){var o=e.getRuleObject(n);if((o.validator||"function"==typeof o.validator)&&(!o.options.condition||o.options.condition(t.store))&&(""!==t.input[r]||"req"===o.name)){var i,s;if("number"===o.name){var a=o.validator(t.input[r],o.options,t.store,t.input);i=a.is_ok,s=a.message}else i=o.validator(t.input[r],o.options,t.store,t.input);i||t.addFailure(r,o,s)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&_(t.prototype,r),n&&_(t,n),e}();var m,b,v,w,k,O,P,S,C,A,T,D,j,I,x,R,E,L,z,M,W,V;function F(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){F(i,n,o,s,a,"next",e)}function a(e){F(i,n,o,s,a,"throw",e)}s(void 0)}))}}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var X,Y,$,Q,Z,ee,te,re,ne,oe,ie,se,ae,ce,ue,pe,le,fe,he,de,ye,_e,ge,me,be,ve,we,ke,Oe,Pe,Se,Ce,Ae,Te,De=(m=i.action.bound,b=i.action.bound,v=i.action.bound,w=i.action.bound,k=i.action.bound,O=i.action.bound,P=i.action.bound,S=i.action.bound,C=i.action.bound,A=i.action.bound,T=i.action.bound,D=i.action.bound,j=i.action.bound,I=i.action.bound,x=i.action.bound,R=i.action.bound,V=W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};G(this,e),U(this,"validation_errors",L,this),U(this,"validation_rules",z,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,U(this,"partial_fetch_time",M,this);var r=t.root_store,n=t.local_storage_properties,o=t.session_storage_properties,i=t.validation_rules,s=t.store_name;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});var a=n&&n.length||o&&o.length;if(a){if(!s)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:s,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=n||[],this.session_storage_properties=o||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var t,r;return t=e,(r=[{key:"getSnapshot",value:function(e){var t=(0,i.toJS)(this);return(0,s.isEmptyObject)(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce((function(e,r){return Object.assign(e,H({},r,t[r]))}),{})),t}},{key:"setupReactionForLocalStorage",value:function(){var t=this;this.local_storage_properties.length&&(0,i.reaction)((function(){return t.local_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.local_storage_properties,e.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var t=this;this.session_storage_properties.length&&(0,i.reaction)((function(){return t.session_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.session_storage_properties,e.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,r){var n=JSON.stringify(this.getSnapshot(t),(function(e,t){if(null!==t)return t}));r===e.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===e.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=q(q({},t),r);Object.keys(n).forEach((function(t){return e[t]=n[t]}))}},{key:"setValidationErrorMessages",value:function(e,t){var r=this;this.validation_errors[e]&&!r.validation_errors[e].filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!r.validation_errors[e].includes(t)}))).length||(this.validation_errors[e]=t)}},{key:"setValidationRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(r){e.addRule(r,t[r])}))}},{key:"addRule",value:function(e,t){var r=this;this.validation_rules[e]=t,(0,i.intercept)(this,e,(function(t){return r.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(e,t){var r=this,n=this.validation_rules[e].trigger,o=H({},e,void 0!==t?t:this[e]),i=H({},e,this.validation_rules[e].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var s=new g(o,i,this);s.isPassed(),Object.keys(o).forEach((function(e){r.setValidationErrorMessages(e,s.errors.get(e))}))}},{key:"validateAllProperties",value:function(){var e=this,t=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);t.forEach((function(t){e.validateProperty(t,e[t])})),r.forEach((function(r){t.includes(r)||delete e.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(e){var t=this;e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,i.when)((function(){return t.root_store.client.switch_broadcast}),(function(){try{var e=t.switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Switching account listeners are required to return a promise.");e.then((function(){t.root_store.client.switchEndSignal(),t.onSwitchAccount(t.switch_account_listener)}))}catch(e){(0,s.isProduction)()||console.error(e)}})))}},{key:"onPreSwitchAccount",value:function(e){var t=this;e&&(this.pre_switch_account_listener=e,this.preSwitchAccountDisposer=(0,i.when)((function(){return t.root_store.client.pre_switch_broadcast}),(function(){try{var e=t.pre_switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Pre-switch account listeners are required to return a promise.");e.then((function(){t.root_store.client.setPreSwitchAccount(!1),t.onPreSwitchAccount(t.pre_switch_account_listener)}))}catch(e){(0,s.isProduction)()||console.error(e)}})))}},{key:"onLogout",value:function(e){var t=this;this.logoutDisposer=(0,i.when)((function(){return t.root_store.client.has_logged_out}),B(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.logout_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setLogout(!1),t.onLogout(t.logout_listener)})),e.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,s.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.logout_listener=e}},{key:"onClientInit",value:function(e){var t=this;this.clientInitDisposer=(0,i.when)((function(){return t.root_store.client.initialized_broadcast}),B(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.client_init_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setInitialized(!1),t.onClientInit(t.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,s.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"onNetworkStatusChange",value:function(e){var t=this;this.networkStatusChangeDisposer=(0,i.reaction)((function(){return t.root_store.common.is_network_online}),(function(e){try{t.network_status_change_listener(e)}catch(e){(0,s.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}},{key:"onThemeChange",value:function(e){var t=this;this.themeChangeDisposer=(0,i.reaction)((function(){return t.root_store.ui.is_dark_mode_on}),(function(e){try{t.theme_change_listener(e)}catch(e){(0,s.isProduction)()||console.error(e)}})),this.theme_change_listener=e}},{key:"onRealAccountSignupEnd",value:function(e){var t=this;this.realAccountSignupEndedDisposer=(0,i.when)((function(){return t.root_store.ui.has_real_account_signup_ended}),(function(){try{var e=t.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((function(){t.root_store.ui.setRealAccountSignupEnd(!1),t.onRealAccountSignupEnd(t.real_account_signup_ended_listener)}))}catch(e){(0,s.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(e){return e()})),this.partial_fetch_time=!1}}}])&&K(t.prototype,r),e}(),W.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),L=J((E=V).prototype,"validation_errors",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),z=J(E.prototype,"validation_rules",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),M=J(E.prototype,"partial_fetch_time",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J(E.prototype,"retrieveFromStorage",[i.action],Object.getOwnPropertyDescriptor(E.prototype,"retrieveFromStorage"),E.prototype),J(E.prototype,"setValidationErrorMessages",[i.action],Object.getOwnPropertyDescriptor(E.prototype,"setValidationErrorMessages"),E.prototype),J(E.prototype,"setValidationRules",[i.action],Object.getOwnPropertyDescriptor(E.prototype,"setValidationRules"),E.prototype),J(E.prototype,"addRule",[i.action],Object.getOwnPropertyDescriptor(E.prototype,"addRule"),E.prototype),J(E.prototype,"validateProperty",[i.action],Object.getOwnPropertyDescriptor(E.prototype,"validateProperty"),E.prototype),J(E.prototype,"validateAllProperties",[i.action],Object.getOwnPropertyDescriptor(E.prototype,"validateAllProperties"),E.prototype),J(E.prototype,"onSwitchAccount",[m],Object.getOwnPropertyDescriptor(E.prototype,"onSwitchAccount"),E.prototype),J(E.prototype,"onPreSwitchAccount",[b],Object.getOwnPropertyDescriptor(E.prototype,"onPreSwitchAccount"),E.prototype),J(E.prototype,"onLogout",[v],Object.getOwnPropertyDescriptor(E.prototype,"onLogout"),E.prototype),J(E.prototype,"onClientInit",[w],Object.getOwnPropertyDescriptor(E.prototype,"onClientInit"),E.prototype),J(E.prototype,"onNetworkStatusChange",[k],Object.getOwnPropertyDescriptor(E.prototype,"onNetworkStatusChange"),E.prototype),J(E.prototype,"onThemeChange",[O],Object.getOwnPropertyDescriptor(E.prototype,"onThemeChange"),E.prototype),J(E.prototype,"onRealAccountSignupEnd",[P],Object.getOwnPropertyDescriptor(E.prototype,"onRealAccountSignupEnd"),E.prototype),J(E.prototype,"disposePreSwitchAccount",[S],Object.getOwnPropertyDescriptor(E.prototype,"disposePreSwitchAccount"),E.prototype),J(E.prototype,"disposeSwitchAccount",[C],Object.getOwnPropertyDescriptor(E.prototype,"disposeSwitchAccount"),E.prototype),J(E.prototype,"disposeLogout",[A],Object.getOwnPropertyDescriptor(E.prototype,"disposeLogout"),E.prototype),J(E.prototype,"disposeClientInit",[T],Object.getOwnPropertyDescriptor(E.prototype,"disposeClientInit"),E.prototype),J(E.prototype,"disposeNetworkStatusChange",[D],Object.getOwnPropertyDescriptor(E.prototype,"disposeNetworkStatusChange"),E.prototype),J(E.prototype,"disposeThemeChange",[j],Object.getOwnPropertyDescriptor(E.prototype,"disposeThemeChange"),E.prototype),J(E.prototype,"disposeRealAccountSignupEnd",[I],Object.getOwnPropertyDescriptor(E.prototype,"disposeRealAccountSignupEnd"),E.prototype),J(E.prototype,"onUnmount",[x],Object.getOwnPropertyDescriptor(E.prototype,"onUnmount"),E.prototype),J(E.prototype,"assertHasValidCache",[R],Object.getOwnPropertyDescriptor(E.prototype,"assertHasValidCache"),E.prototype),E);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){Ie(i,n,o,s,a,"next",e)}function a(e){Ie(i,n,o,s,a,"throw",e)}s(void 0)}))}}function Re(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?Me(e):t}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Fe=(X=i.observable.shallow,Y=i.observable.ref,$=i.action.bound,Q=i.action.bound,Z=i.action.bound,ee=i.action.bound,te=i.action.bound,re=i.action.bound,ne=i.action.bound,oe=i.action.bound,ie=i.action.bound,se=i.action.bound,ae=i.action.bound,ce=i.action.bound,ue=i.action.bound,pe=i.action.bound,le=i.action.bound,fe=i.action.bound,he=i.action.bound,de=i.action.bound,ye=i.action.bound,_e=i.action.bound,me=Ve((ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(f,e);var t,n,o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=We(e);if(t){var o=We(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ze(this,r)}}(f);function f(e){var t,r=e.WS,n=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),Re(t=o.call(this,{root_store:n}),"api_error",me,Me(t)),Re(t,"deposit_address",be,Me(t)),Re(t,"is_deposit_address_loading",ve,Me(t)),Re(t,"is_deposit_address_popover_open",we,Me(t)),Re(t,"is_onramp_modal_open",ke,Me(t)),Re(t,"is_requesting_widget_html",Oe,Me(t)),Re(t,"onramp_providers",Pe,Me(t)),Re(t,"selected_provider",Se,Me(t)),Re(t,"should_show_widget",Ce,Me(t)),Re(t,"widget_error",Ae,Me(t)),Re(t,"widget_html",Te,Me(t)),t.deposit_address_ref=null,t.WS=r,t.onClientInit(xe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setOnrampProviders([u(Me(t)),p(Me(t)),l(Me(t)),c(Me(t))]);case 1:case"end":return e.stop()}}),e)})))),t}return t=f,(n=[{key:"onMountOnramp",value:function(){var e=this;this.disposeThirdPartyJsReaction=(0,i.reaction)((function(){return e.selected_provider}),function(){var t=xe(regeneratorRuntime.mark((function t(n){var o,i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(0!==(o=n.getScriptDependencies()).length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,r.e("loadjs").then(r.t.bind(r,"../../../node_modules/loadjs/dist/loadjs.umd.js",23));case 7:i=t.sent,a=i.default,c="".concat((0,s.getKebabCase)(n.name),"-onramp"),a.isDefined(c)||a(o,c,{error:function(){console.warn("Dependencies for onramp provider ".concat(n.name," could not be loaded.")),e.setSelectedProvider(null)}});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.disposeGetWidgetHtmlReaction=(0,i.reaction)((function(){return e.should_show_widget}),(function(t){if(t){if(e.is_requesting_widget_html)return;e.setIsRequestingWidgetHtml(!0),e.selected_provider.getWidgetHtml().then((function(t){t?e.setWidgetHtml(t):e.setShouldShowWidget(!1)})).catch((function(t){e.setWidgetError(t)})).finally((function(){return e.setIsRequestingWidgetHtml(!1)}))}}))}},{key:"onUnmountOnramp",value:function(){"function"==typeof this.disposeThirdPartyJsReaction&&this.disposeThirdPartyJsReaction(),"function"==typeof this.disposeGetWidgetHtmlReaction&&this.disposeGetWidgetHtmlReaction()}},{key:"onClickCopyDepositAddress",value:function(){var e=this,t=document.createRange();t.selectNodeContents(this.deposit_address_ref);var r=window.getSelection();r.removeAllRanges(),r.addRange(t),navigator.clipboard.writeText(this.deposit_address).then((function(){e.setIsDepositAddressPopoverOpen(!0),setTimeout((function(){return e.setIsDepositAddressPopoverOpen(!1)}),500)}))}},{key:"onClickDisclaimerContinue",value:function(){this.setShouldShowWidget(!0)}},{key:"onClickGoToDepositPage",value:function(){this.pollApiForDepositAddress(!1),window.open((0,s.websiteUrl)()+s.routes.cashier_deposit.substring(1))}},{key:"pollApiForDepositAddress",value:function(e){var t=this;this.setIsDepositAddressLoading(!0),this.setApiError(null);var r=setInterval((function(){return n}),3e3),n=function(){t.root_store.modules.cashier.WS.authorized.cashier("deposit",{provider:"crypto",type:"api"}).then((function(n){var o=!1;if(n.error)t.setApiError(n.error),o=!0;else{var i=n.cashier.deposit.address;(i||e)&&(t.setDepositAddress(i),o=!0)}o&&(clearInterval(r),t.setIsDepositAddressLoading(!1))}))};n(),setTimeout((function(){clearInterval(r),t.setIsDepositAddressLoading(!1)}),3e4)}},{key:"resetPopup",value:function(){this.setApiError(null),this.setDepositAddress(null),this.setDepositAddressRef(null),this.setIsDepositAddressLoading(!0),this.setSelectedProvider(null),this.setShouldShowWidget(!1),this.setWidgetError(null),this.setWidgetHtml(null)}},{key:"setApiError",value:function(e){this.api_error=e}},{key:"setCopyIconRef",value:function(e){this.copy_icon_ref=e}},{key:"setDepositAddress",value:function(e){this.deposit_address=e}},{key:"setDepositAddressRef",value:function(e){this.deposit_address_ref=e}},{key:"setIsDepositAddressLoading",value:function(e){this.is_deposit_address_loading=e}},{key:"setIsDepositAddressPopoverOpen",value:function(e){this.is_deposit_address_popover_open=e}},{key:"setIsOnRampModalOpen",value:function(e){this.is_onramp_modal_open=e}},{key:"setIsRequestingWidgetHtml",value:function(e){this.is_requesting_widget_html=e}},{key:"setSelectedProvider",value:function(e){e?(this.selected_provider=e,this.setIsOnRampModalOpen(!0),this.pollApiForDepositAddress(!0)):(this.setIsOnRampModalOpen(!1),this.selected_provider=null)}},{key:"setShouldShowWidget",value:function(e){this.should_show_widget=e}},{key:"setOnrampProviders",value:function(e){this.onramp_providers=e.slice()}},{key:"setWidgetError",value:function(e){this.widget_error=e}},{key:"setWidgetHtml",value:function(e){this.widget_html=e}},{key:"is_onramp_tab_visible",get:function(){var e=this.root_store.client;return!1===e.is_virtual&&(0,s.isCryptocurrency)(e.currency)&&this.filtered_onramp_providers.length>0}},{key:"filtered_onramp_providers",get:function(){var e=this.root_store.client;return this.onramp_providers.filter((function(t){var r=t.getToCurrencies();return r.includes("*")||r.includes(e.currency.toLowerCase())})).filter((function(t){var r=t.getAllowedResidencies();return r.includes("*")||r.includes(e.residence)}))}},{key:"onramp_popup_modal_title",get:function(){return this.should_show_widget?(0,a.localize)("Payment channel"):this.selected_provider?this.should_show_dialog?this.api_error?(0,a.localize)("Our server cannot retrieve an address."):(0,a.localize)("You don't have a crypto address yet."):" ":void 0}},{key:"should_show_dialog",get:function(){return this.api_error||!this.deposit_address}}])&&Ee(t.prototype,n),f}(De)).prototype,"api_error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=Ve(ge.prototype,"deposit_address",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Ve(ge.prototype,"is_deposit_address_loading",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),we=Ve(ge.prototype,"is_deposit_address_popover_open",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ke=Ve(ge.prototype,"is_onramp_modal_open",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=Ve(ge.prototype,"is_requesting_widget_html",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=Ve(ge.prototype,"onramp_providers",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=Ve(ge.prototype,"selected_provider",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=Ve(ge.prototype,"should_show_widget",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ae=Ve(ge.prototype,"widget_error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=Ve(ge.prototype,"widget_html",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve(ge.prototype,"is_onramp_tab_visible",[i.computed],Object.getOwnPropertyDescriptor(ge.prototype,"is_onramp_tab_visible"),ge.prototype),Ve(ge.prototype,"filtered_onramp_providers",[i.computed],Object.getOwnPropertyDescriptor(ge.prototype,"filtered_onramp_providers"),ge.prototype),Ve(ge.prototype,"onramp_popup_modal_title",[i.computed],Object.getOwnPropertyDescriptor(ge.prototype,"onramp_popup_modal_title"),ge.prototype),Ve(ge.prototype,"should_show_dialog",[i.computed],Object.getOwnPropertyDescriptor(ge.prototype,"should_show_dialog"),ge.prototype),Ve(ge.prototype,"onMountOnramp",[$],Object.getOwnPropertyDescriptor(ge.prototype,"onMountOnramp"),ge.prototype),Ve(ge.prototype,"onUnmountOnramp",[Q],Object.getOwnPropertyDescriptor(ge.prototype,"onUnmountOnramp"),ge.prototype),Ve(ge.prototype,"onClickCopyDepositAddress",[Z],Object.getOwnPropertyDescriptor(ge.prototype,"onClickCopyDepositAddress"),ge.prototype),Ve(ge.prototype,"onClickDisclaimerContinue",[ee],Object.getOwnPropertyDescriptor(ge.prototype,"onClickDisclaimerContinue"),ge.prototype),Ve(ge.prototype,"onClickGoToDepositPage",[te],Object.getOwnPropertyDescriptor(ge.prototype,"onClickGoToDepositPage"),ge.prototype),Ve(ge.prototype,"pollApiForDepositAddress",[re],Object.getOwnPropertyDescriptor(ge.prototype,"pollApiForDepositAddress"),ge.prototype),Ve(ge.prototype,"resetPopup",[ne],Object.getOwnPropertyDescriptor(ge.prototype,"resetPopup"),ge.prototype),Ve(ge.prototype,"setApiError",[oe],Object.getOwnPropertyDescriptor(ge.prototype,"setApiError"),ge.prototype),Ve(ge.prototype,"setCopyIconRef",[ie],Object.getOwnPropertyDescriptor(ge.prototype,"setCopyIconRef"),ge.prototype),Ve(ge.prototype,"setDepositAddress",[se],Object.getOwnPropertyDescriptor(ge.prototype,"setDepositAddress"),ge.prototype),Ve(ge.prototype,"setDepositAddressRef",[ae],Object.getOwnPropertyDescriptor(ge.prototype,"setDepositAddressRef"),ge.prototype),Ve(ge.prototype,"setIsDepositAddressLoading",[ce],Object.getOwnPropertyDescriptor(ge.prototype,"setIsDepositAddressLoading"),ge.prototype),Ve(ge.prototype,"setIsDepositAddressPopoverOpen",[ue],Object.getOwnPropertyDescriptor(ge.prototype,"setIsDepositAddressPopoverOpen"),ge.prototype),Ve(ge.prototype,"setIsOnRampModalOpen",[pe],Object.getOwnPropertyDescriptor(ge.prototype,"setIsOnRampModalOpen"),ge.prototype),Ve(ge.prototype,"setIsRequestingWidgetHtml",[le],Object.getOwnPropertyDescriptor(ge.prototype,"setIsRequestingWidgetHtml"),ge.prototype),Ve(ge.prototype,"setSelectedProvider",[fe],Object.getOwnPropertyDescriptor(ge.prototype,"setSelectedProvider"),ge.prototype),Ve(ge.prototype,"setShouldShowWidget",[he],Object.getOwnPropertyDescriptor(ge.prototype,"setShouldShowWidget"),ge.prototype),Ve(ge.prototype,"setOnrampProviders",[de],Object.getOwnPropertyDescriptor(ge.prototype,"setOnrampProviders"),ge.prototype),Ve(ge.prototype,"setWidgetError",[ye],Object.getOwnPropertyDescriptor(ge.prototype,"setWidgetError"),ge.prototype),Ve(ge.prototype,"setWidgetHtml",[_e],Object.getOwnPropertyDescriptor(ge.prototype,"setWidgetHtml"),ge.prototype),ge),Be=r("../../../node_modules/prop-types/index.js"),Ne=r.n(Be),qe=r("@deriv/components"),He=function(e){var t=e.p2p_notification_count;return o().createElement(o().Fragment,null,o().createElement(qe.Icon,{icon:"IcCashier",className:"header__icon"}),!!t&&o().createElement(qe.Counter,{className:"cashier__counter",count:t}))};He.propTypes={p2p_notification_count:Ne().number};const Ue=He;function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ke,Je,Xe,Ye,$e,Qe,Ze,et,tt,rt,nt,ot,it,st,at,ct,ut,pt,lt,ft,ht,dt,yt,_t,gt,mt,bt,vt,wt,kt,Ot,Pt,St,Ct,At,Tt,Dt,jt,It,xt,Rt,Et,Lt,zt,Mt,Wt,Vt,Ft,Bt,Nt,qt,Ht,Ut,Gt,Kt,Jt,Xt,Yt,$t,Qt,Zt,er,tr,rr,nr,or,ir,sr,ar,cr,ur,pr,lr,fr,hr,dr,yr,_r,gr,mr,br,vr,wr,kr,Or,Pr,Sr,Cr,Ar,Tr,Dr,jr,Ir,xr,Rr,Er,Lr,zr,Mr,Wr,Vr,Fr,Br,Nr,qr,Hr,Ur,Gr,Kr,Jr,Xr,Yr,$r,Qr,Zr,en,tn,rn,nn,on,sn,an,cn,un,pn,ln,fn,hn,dn,yn,_n,gn,mn,bn,vn,wn,kn,On,Pn,Sn,Cn,An;function Tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(r),!0).forEach((function(t){En(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return In(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?In(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xn(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function Rn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){xn(i,n,o,s,a,"next",e)}function a(e){xn(i,n,o,s,a,"throw",e)}s(void 0)}))}}function En(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zn(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?Mn(e):t}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fn(e,t,r){return t&&Vn(e.prototype,t),r&&Vn(e,r),e}function Bn(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Hn=function(e){return e.startsWith("MX")},Un=function(e,t){return t?o().createElement(a.Localize,{i18n_default_text:"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:e}}):o().createElement(a.Localize,{i18n_default_text:"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:e}})},Gn=(Je=qn((Ke=function e(t){var r=t.container;Nn(this,e),this.container="",this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session="",Bn(this,"iframe_height",Je,this),Bn(this,"iframe_url",Xe,this),this.container=r}).prototype,"iframe_height",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xe=qn(Ke.prototype,"iframe_url",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ke),Kn=($e=qn((Ye=function e(){Nn(this,e),Bn(this,"message",$e,this),Bn(this,"code",Qe,this),Bn(this,"fields",Ze,this),Bn(this,"is_show_full_page",et,this),Bn(this,"onClickButton",tt,this),Bn(this,"is_ask_uk_funds_protection",rt,this),Bn(this,"is_self_exclusion_max_turnover_set",nt,this),Bn(this,"is_ask_authentication",ot,this),Bn(this,"is_ask_financial_risk_approval",it,this)}).prototype,"message",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qe=qn(Ye.prototype,"code",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ze=qn(Ye.prototype,"fields",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),et=qn(Ye.prototype,"is_show_full_page",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=qn(Ye.prototype,"onClickButton",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=qn(Ye.prototype,"is_ask_uk_funds_protection",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nt=qn(Ye.prototype,"is_self_exclusion_max_turnover_set",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=qn(Ye.prototype,"is_ask_authentication",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=qn(Ye.prototype,"is_ask_financial_risk_approval",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye),Jn=(at=qn((st=function e(){Nn(this,e),this.list=[],Bn(this,"agents",at,this),Bn(this,"container",ct,this),Bn(this,"error",ut,this),Bn(this,"filtered_list",pt,this),Bn(this,"is_name_selected",lt,this),Bn(this,"is_withdraw",ft,this),Bn(this,"is_try_withdraw_successful",ht,this),Bn(this,"is_withdraw_successful",dt,this),Bn(this,"confirm",yt,this),Bn(this,"receipt",_t,this),Bn(this,"selected_bank",gt,this),Bn(this,"supported_banks",mt,this),Bn(this,"verification",bt,this)}).prototype,"agents",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=qn(st.prototype,"container",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent"}}),ut=qn(st.prototype,"error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Kn}}),pt=qn(st.prototype,"filtered_list",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=qn(st.prototype,"is_name_selected",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ft=qn(st.prototype,"is_withdraw",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=qn(st.prototype,"is_try_withdraw_successful",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dt=qn(st.prototype,"is_withdraw_successful",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yt=qn(st.prototype,"confirm",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_t=qn(st.prototype,"receipt",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gt=qn(st.prototype,"selected_bank",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mt=qn(st.prototype,"supported_banks",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=qn(st.prototype,"verification",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $n}}),st),Xn=(wt=qn((vt=function e(){Nn(this,e),Bn(this,"container",wt,this),Bn(this,"error",kt,this),Bn(this,"is_payment_agent",Ot,this),Bn(this,"is_try_transfer_successful",Pt,this),Bn(this,"is_transfer_successful",St,this),Bn(this,"confirm",Ct,this),Bn(this,"receipt",At,this),Bn(this,"transfer_limit",Tt,this)}).prototype,"container",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent_transfer"}}),kt=qn(vt.prototype,"error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Kn}}),Ot=qn(vt.prototype,"is_payment_agent",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=qn(vt.prototype,"is_try_transfer_successful",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),St=qn(vt.prototype,"is_transfer_successful",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ct=qn(vt.prototype,"confirm",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),At=qn(vt.prototype,"receipt",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tt=qn(vt.prototype,"transfer_limit",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vt),Yn=(Dt=i.action.bound,jt=i.action.bound,It=i.action.bound,Rt=qn((xt=function(){function e(){Nn(this,e),Bn(this,"accounts_list",Rt,this),Bn(this,"container",Et,this),Bn(this,"error",Lt,this),Bn(this,"has_no_account",zt,this),Bn(this,"has_no_accounts_balance",Mt,this),Bn(this,"is_transfer_confirm",Wt,this),Bn(this,"is_transfer_successful",Vt,this),Bn(this,"is_mt5_transfer_in_progress",Ft,this),Bn(this,"minimum_fee",Bt,this),Bn(this,"receipt",Nt,this),Bn(this,"selected_from",qt,this),Bn(this,"selected_to",Ht,this),Bn(this,"account_transfer_amount",Ut,this),Bn(this,"transfer_fee",Gt,this),Bn(this,"transfer_limit",Kt,this)}return Fn(e,[{key:"setBalanceByLoginId",value:function(e,t){this.accounts_list.find((function(t){return e===t.value})).balance=t}},{key:"setBalanceSelectedFrom",value:function(e){this.selected_from.balance=e}},{key:"setBalanceSelectedTo",value:function(e){this.selected_to.balance=e}}]),e}()).prototype,"accounts_list",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Et=qn(xt.prototype,"container",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"account_transfer"}}),Lt=qn(xt.prototype,"error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Kn}}),zt=qn(xt.prototype,"has_no_account",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mt=qn(xt.prototype,"has_no_accounts_balance",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wt=qn(xt.prototype,"is_transfer_confirm",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vt=qn(xt.prototype,"is_transfer_successful",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ft=qn(xt.prototype,"is_mt5_transfer_in_progress",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bt=qn(xt.prototype,"minimum_fee",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=qn(xt.prototype,"receipt",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qt=qn(xt.prototype,"selected_from",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ht=qn(xt.prototype,"selected_to",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ut=qn(xt.prototype,"account_transfer_amount",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gt=qn(xt.prototype,"transfer_fee",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=qn(xt.prototype,"transfer_limit",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qn(xt.prototype,"setBalanceByLoginId",[Dt],Object.getOwnPropertyDescriptor(xt.prototype,"setBalanceByLoginId"),xt.prototype),qn(xt.prototype,"setBalanceSelectedFrom",[jt],Object.getOwnPropertyDescriptor(xt.prototype,"setBalanceSelectedFrom"),xt.prototype),qn(xt.prototype,"setBalanceSelectedTo",[It],Object.getOwnPropertyDescriptor(xt.prototype,"setBalanceSelectedTo"),xt.prototype),xt),$n=(Xt=qn((Jt=function e(){Nn(this,e),this.is_button_clicked=!1,this.timeout_button="",Bn(this,"error",Xt,this),Bn(this,"is_email_sent",Yt,this),Bn(this,"is_resend_clicked",$t,this),Bn(this,"resend_timeout",Qt,this)}).prototype,"error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Kn}}),Yt=qn(Jt.prototype,"is_email_sent",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$t=qn(Jt.prototype,"is_resend_clicked",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qt=qn(Jt.prototype,"resend_timeout",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),Jt),Qn=(Zt=i.action.bound,er=i.action.bound,tr=i.action.bound,rr=i.action.bound,nr=i.action.bound,or=i.action.bound,ir=i.action.bound,sr=i.action.bound,ar=i.action.bound,cr=i.action.bound,ur=i.action.bound,pr=i.action.bound,lr=i.action.bound,fr=i.action.bound,hr=i.action.bound,dr=i.action.bound,yr=i.action.bound,_r=i.action.bound,gr=i.action.bound,mr=i.action.bound,br=i.action.bound,vr=i.action.bound,wr=i.action.bound,kr=i.action.bound,Or=i.action.bound,Pr=i.action.bound,Sr=i.action.bound,Cr=i.action.bound,Ar=i.action.bound,Tr=i.action.bound,Dr=i.action.bound,jr=i.action.bound,Ir=i.action.bound,xr=i.action.bound,Rr=i.action.bound,Er=i.action.bound,Lr=i.action.bound,zr=i.action.bound,Mr=i.action.bound,Wr=i.action.bound,Vr=i.action.bound,Fr=i.action.bound,Br=i.action.bound,Nr=i.action.bound,qr=i.action.bound,Hr=i.action.bound,Ur=i.action.bound,Gr=i.action.bound,Kr=i.action.bound,Jr=i.action.bound,Xr=i.action.bound,Yr=i.action.bound,$r=i.action.bound,Qr=i.action.bound,Zr=i.action.bound,en=i.action.bound,tn=i.action.bound,rn=i.action.bound,nn=i.action.bound,on=i.action.bound,sn=i.action.bound,an=i.action.bound,cn=i.action.bound,un=i.action.bound,pn=i.action.bound,ln=i.action.bound,fn=i.action.bound,hn=i.action.bound,dn=i.action.bound,yn=i.action.bound,_n=i.action.bound,mn=qn((gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(w,e);var t,r,n,c,u,p,l,f,h,d,y,_,g,m,b,v=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Wn(e);if(t){var o=Wn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zn(this,r)}}(w);function w(e){var t,r,n=e.root_store,i=e.WS;return Nn(this,w),Bn(r=v.call(this,{root_store:n}),"is_loading",mn,Mn(r)),Bn(r,"is_p2p_visible",bn,Mn(r)),Bn(r,"p2p_notification_count",vn,Mn(r)),Bn(r,"cashier_route_tab_index",wn,Mn(r)),Bn(r,"config",kn,Mn(r)),r.active_container=r.config.deposit.container,r.onRemount=function(){},r.is_populating_values=!1,r.containers=[r.config.deposit.container,r.config.withdraw.container],r.map_action=(En(t={},r.config.withdraw.container,"payment_withdraw"),En(t,r.config.payment_agent.container,"payment_agent_withdraw"),t),Bn(r,"resetPaymentAgent",On,Mn(r)),r.requestTransferBetweenAccounts=function(){var e=Rn(regeneratorRuntime.mark((function e(t){var n,o,i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.amount,r.root_store.client.is_logged_in){e.next=3;break}return e.abrupt("return",null);case 3:return r.setLoading(!0),r.setErrorMessage(""),(o=r.config.account_transfer.selected_from.is_mt||r.config.account_transfer.selected_to.is_mt)&&r.setIsMT5TransferInProgress(!0),i=r.config.account_transfer.selected_from.currency,e.next=10,r.WS.authorized.transferBetweenAccounts(r.config.account_transfer.selected_from.value,r.config.account_transfer.selected_to.value,i,n);case 10:if(a=e.sent,o&&r.setIsMT5TransferInProgress(!1),!a.error){e.next=21;break}if("Fiat2CryptoTransferOverLimit"!==a.error.code){e.next=18;break}return e.next=16,r.WS.authorized.getAccountStatus();case 16:(c=e.sent).error||r.root_store.client.setAccountStatus(c.get_account_status);case 18:r.setErrorMessage(a.error),e.next=26;break;case 21:r.setReceiptTransfer({amount:(0,s.formatMoney)(i,n,!0)}),a.accounts.forEach((function(e){r.config.account_transfer.setBalanceByLoginId(e.loginid,e.balance),e.loginid===r.config.account_transfer.selected_from.value?r.config.account_transfer.setBalanceSelectedFrom(e.balance):e.loginid===r.config.account_transfer.selected_to.value&&r.config.account_transfer.setBalanceSelectedTo(e.balance),"mt5"===e.account_type&&Promise.all([r.WS.mt5LoginList(),r.WS.balanceAll()]).then((function(e){var t=jn(e,2),n=t[0],o=t[1];r.root_store.client.responseMt5LoginList(n),r.root_store.client.setBalanceOtherAccounts(o.balance)}))})),r.setAccountTransferAmount(null),r.setIsTransferConfirm(!1),r.setIsTransferSuccessful(!0);case 26:return r.setLoading(!1),e.abrupt("return",a);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bn(r,"resetAccountTransfer",Pn,Mn(r)),Bn(r,"requestTryPaymentAgentTransfer",Sn,Mn(r)),Bn(r,"requestPaymentAgentTransfer",Cn,Mn(r)),Bn(r,"resetPaymentAgentTransfer",An,Mn(r)),r.WS=i,r.root_store.menu.attach({id:"dt_cashier_tab",icon:o().createElement(Ue,{p2p_notification_count:r.p2p_notification_count}),text:function(){return(0,a.localize)("Cashier")},link_to:s.routes.cashier,login_only:!0}),r.onramp=new Fe({root_store:r.root_store,WS:r.WS}),r.init(),r}return Fn(w,[{key:"setAccountSwitchListener",value:function(){this.disposeSwitchAccount(),this.onSwitchAccount(this.accountSwitcherListener)}},{key:"init",value:function(){var e=this;(0,i.when)((function(){return e.root_store.client.is_logged_in&&!e.root_store.client.is_virtual}),Rn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkP2pStatus();case 2:case"end":return t.stop()}}),t)})))),(0,i.reaction)((function(){return[e.root_store.client.switched,e.root_store.client.is_logged_in,e.root_store.client.currency]}),Rn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.WS.wait("get_settings");case 2:if(!e.root_store.client.is_logged_in||e.root_store.client.is_virtual){t.next=5;break}return t.next=5,e.checkP2pStatus();case 5:case"end":return t.stop()}}),t)}))))}},{key:"checkP2pStatus",value:(b=Rn(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.authorized.p2pAdvertiserInfo();case 2:t=e.sent,r=(0,s.getPropertyValue)(t,["error","code"]),n="RestrictedCountry"===r||"RestrictedCurrency"===r,this.setIsP2pVisible(!n);case 6:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"onMountCommon",value:(m=Rn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.client.is_logged_in){e.next=9;break}if(!this.is_populating_values){e.next=3;break}return e.abrupt("return");case 3:this.is_populating_values=!0,t&&(this.onRemount=this.onMountCommon),this.config.payment_agent.list.length||this.setPaymentAgentList().then(this.filterPaymentAgentList),this.config.payment_agent_transfer.is_payment_agent||this.checkIsPaymentAgent(),this.config.account_transfer.accounts_list.length||this.sortAccountsTransfer(),!this.onramp.is_onramp_tab_visible&&window.location.pathname.endsWith(s.routes.cashier_onramp)&&this.root_store.common.routeTo(s.routes.cashier_deposit);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"setCashierTabIndex",value:function(e){this.cashier_route_tab_index=e}},{key:"setNotificationCount",value:function(e){this.p2p_notification_count=e}},{key:"setIsP2pVisible",value:function(e){this.is_p2p_visible=e,!e&&window.location.pathname.endsWith(s.routes.cashier_p2p)&&this.root_store.common.routeTo(s.routes.cashier_deposit)}},{key:"onMount",value:(g=Rn(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.active_container,this.onRemount=this.onMount,e.next=4,this.onMountCommon();case 4:if(-1!==this.containers.indexOf(this.active_container)||this.root_store.client.is_switching){e.next=6;break}throw new Error("Cashier Store onMount requires a valid container name.");case 6:if(this.setErrorMessage(""),this.setContainerHeight(0),this.setLoading(!0),this.config[this.active_container].is_session_timeout){e.next=12;break}return this.checkIframeLoaded(),e.abrupt("return");case 12:if(this.setIframeUrl(""),(this.active_container!==this.config.withdraw.container||t)&&!this.root_store.client.is_virtual){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,this.WS.authorized.cashier(this.active_container,{verification_code:t});case 17:if(n=e.sent,r===this.active_container){e.next=20;break}return e.abrupt("return");case 20:if(!n.error){e.next=28;break}this.handleCashierError(n.error),this.setLoading(!1),this.setSessionTimeout(!0),this.clearTimeoutCashierUrl(),t&&this.clearVerification(),e.next=39;break;case 28:if(!(0,s.isCryptocurrency)(this.root_store.client.currency)){e.next=34;break}this.setLoading(!1),this.setContainerHeight("540"),this.setIframeUrl(n.cashier),e.next=39;break;case 34:return e.next=36,this.checkIframeLoaded();case 36:this.setIframeUrl(n.cashier),this.setSessionTimeout(!1),this.setTimeoutCashierUrl();case 39:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"checkIframeLoaded",value:(_=Rn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.removeOnIframeLoaded(),this.config[this.active_container].onIframeLoaded=function(e){/cashier|doughflow/.test(e.origin)&&(this.setLoading(!1),this.setContainerHeight(+e.data||"1200"))}.bind(this),window.addEventListener("message",this.config[this.active_container].onIframeLoaded,!1);case 3:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"removeOnIframeLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[e].onIframeLoaded&&(window.removeEventListener("message",this.config[e].onIframeLoaded,!1),this.config[e].onIframeLoaded="")}},{key:"setIframeUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;e?(this.config[t].iframe_url="".concat(e,"&theme=").concat(this.root_store.ui.is_dark_mode_on?"dark":"light"),this.root_store.client.setVerificationCode("",this.map_action[t])):this.config[t].iframe_url=e}},{key:"setContainerHeight",value:function(e){this.config[this.active_container].iframe_height=e}},{key:"setErrorMessage",value:function(e,t,r,n){var o=Dn({onClickButton:t,code:e.code,message:e.message,is_show_full_page:r||/InvalidToken|WrongResponse/.test(e.code)},(0,s.getPropertyValue)(e,["details","fields"])&&{fields:e.details.fields});n&&this.config[this.active_container].verification?this.config[this.active_container].verification.error=o:this.config[this.active_container].error=o}},{key:"handleCashierError",value:function(e){switch(e.code){case"ASK_TNC_APPROVAL":case"ASK_FIX_DETAILS":this.setErrorMessage(e,null,!0);break;case"ASK_UK_FUNDS_PROTECTION":this.config[this.active_container].error={is_ask_uk_funds_protection:!0};break;case"ASK_SELF_EXCLUSION_MAX_TURNOVER_SET":this.config[this.active_container].error={is_self_exclusion_max_turnover_set:!0};break;case"ASK_AUTHENTICATE":case"ASK_AGE_VERIFICATION":this.config[this.active_container].error={is_ask_authentication:!0};break;case"FinancialAssessmentRequired":case"ASK_FINANCIAL_RISK_APPROVAL":this.config[this.active_container].error={is_ask_financial_risk_approval:!0};break;default:this.config[this.active_container].error={is_ask_uk_funds_protection:!1,is_self_exclusion_max_turnover_set:!1,is_ask_authentication:!1,is_ask_financial_risk_approval:!1},this.setErrorMessage(e)}}},{key:"setErrorConfig",value:function(e,t){this.config[this.active_container].error=En({},e,t)}},{key:"submitFundsProtection",value:function(){var e=this;this.WS.send({ukgc_funds_protection:1,tnc_approval:1}).then((function(t){t.error?e.setErrorConfig("message",t.error.message):(e.setErrorConfig("is_ask_uk_funds_protection",!1),e.onMount())}))}},{key:"setLoading",value:function(e){this.is_loading=e}},{key:"setSessionTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].is_session_timeout=e,e&&this.removeOnIframeLoaded(t)}},{key:"setVerificationButtonClicked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.is_button_clicked=e}},{key:"setVerificationEmailSent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.is_email_sent=e}},{key:"setVerificationResendClicked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.is_resend_clicked=e}},{key:"setVerificationResendTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.resend_timeout=e}},{key:"clearTimeoutCashierUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[e].timeout_session&&clearTimeout(this.config[e].timeout_session)}},{key:"setTimeoutCashierUrl",value:function(){var e=this;this.clearTimeoutCashierUrl(),this.config[this.active_container].timeout_session=setTimeout((function(){e.setSessionTimeout(!0)}),6e4)}},{key:"clearTimeoutVerification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[e].verification.timeout_button&&clearTimeout(this.config[e].verification.timeout_button)}},{key:"setTimeoutVerification",value:function(){var e=this;this.clearTimeoutVerification(),this.config[this.active_container].verification.timeout_button=setTimeout((function(){e.clearVerification()}),36e5)}},{key:"sendVerificationEmail",value:(y=Rn(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config[this.active_container].verification.is_button_clicked&&this.root_store.client.email){e.next=2;break}return e.abrupt("return");case 2:return this.setErrorMessage(""),this.setVerificationButtonClicked(!0),t="payment".concat(this.active_container===this.config.payment_agent.container?"agent":"","_withdraw"),e.next=7,this.WS.verifyEmail(this.root_store.client.email,t);case 7:(r=e.sent).error?(this.clearVerification(),this.setErrorMessage(r.error,(function(){n.setErrorMessage("",null,null,!0)}),null,!0)):(this.setVerificationEmailSent(!0),this.setTimeoutVerification());case 9:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"resendVerificationEmail",value:function(){this.config[this.active_container].verification.resend_timeout<60||(this.setVerificationButtonClicked(!1),this.setCountDownResendVerification(),this.sendVerificationEmail())}},{key:"setCountDownResendVerification",value:function(){var e=this;this.setVerificationResendTimeout(this.config[this.active_container].verification.resend_timeout-1);var t=setInterval((function(){e.config[e.active_container]&&e.config[e.active_container].verification?1===e.config[e.active_container].verification.resend_timeout?(e.setVerificationResendTimeout(60),clearInterval(t)):e.setVerificationResendTimeout(e.config[e.active_container].verification.resend_timeout-1):clearInterval(t)}),1e3)}},{key:"clearVerification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.clearTimeoutVerification(e),this.setVerificationButtonClicked(!1,e),this.setVerificationEmailSent(!1,e),this.setVerificationResendClicked(!1,e),this.setVerificationResendTimeout(60,e),this.setErrorMessage("",null,null,!0),this.root_store.client.setVerificationCode("",this.map_action[e])}},{key:"setActiveTab",value:function(e){this.active_container=e}},{key:"onMountPaymentAgentList",value:(d=Rn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentList,e.next=4,this.onMountCommon();case 4:this.setLoading(!1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getPaymentAgentList",value:(h=Rn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.payment_agent.list.length){e.next=2;break}return e.abrupt("return",this.WS.wait("paymentagent_list"));case 2:return e.next=4,this.WS.wait("get_settings");case 4:return e.abrupt("return",this.WS.authorized.paymentAgentList(this.root_store.client.residence,this.root_store.client.currency));case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"addSupportedBank",value:function(e){this.config.payment_agent.supported_banks.find((function(t){return t.value===e.toLowerCase()}))||this.config.payment_agent.supported_banks.push({text:e,value:e.toLowerCase()})}},{key:"sortSupportedBanks",value:function(){this.config.payment_agent.supported_banks.replace(this.config.payment_agent.supported_banks.slice().sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})))}},{key:"setPaymentAgentList",value:(f=Rn(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,this.getPaymentAgentList();case 4:e.t0=e.sent;case 5:if((r=e.t0)&&r.paymentagent_list){e.next=8;break}return e.abrupt("return");case 8:r.paymentagent_list.list.forEach((function(e){n.config.payment_agent.list.push({email:e.email,phone:e.telephone,name:e.name,supported_banks:e.supported_banks,url:e.url}),e.supported_banks&&e.supported_banks.split(",").forEach((function(e){n.addSupportedBank(e)}))})),this.sortSupportedBanks();case 10:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"filterPaymentAgentList",value:function(e){var t=this;e?(this.config.payment_agent.filtered_list=[],this.config.payment_agent.list.forEach((function(r){r.supported_banks&&-1!==r.supported_banks.toLowerCase().split(",").indexOf(e)&&t.config.payment_agent.filtered_list.push(r)}))):this.config.payment_agent.filtered_list=this.config.payment_agent.list,!this.is_payment_agent_visible&&window.location.pathname.endsWith(s.routes.cashier_pa)&&this.root_store.common.routeTo(s.routes.cashier_deposit)}},{key:"onChangePaymentMethod",value:function(e){var t=e.target,r="0"===t.value?parseInt(t.value):t.value;this.config.payment_agent.selected_bank=r,this.filterPaymentAgentList(r)}},{key:"onMountPaymentAgentWithdraw",value:(l=Rn(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentWithdraw,e.next=4,this.onMountCommon();case 4:if(this.setIsWithdraw(!0),this.setIsWithdrawSuccessful(!1),this.setReceipt({}),this.config.payment_agent.agents.length){e.next=16;break}return e.next=10,this.getPaymentAgentList();case 10:(t=e.sent).paymentagent_list.list.forEach((function(e){r.addPaymentAgent(e)})),!t.paymentagent_list.list.length&&window.location.pathname.endsWith(s.routes.cashier_pa)&&this.root_store.common.routeTo(s.routes.cashier_deposit),this.setLoading(!1),e.next=17;break;case 16:this.setLoading(!1);case 17:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setIsWithdraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.config.payment_agent.is_withdraw;this.config.payment_agent.is_withdraw=e}},{key:"setIsTryWithdrawSuccessful",value:function(e){this.setErrorMessage(""),this.config.payment_agent.is_try_withdraw_successful=e}},{key:"setIsWithdrawSuccessful",value:function(e){this.config.payment_agent.is_withdraw_successful=e}},{key:"setConfirmation",value:function(e){var t=e.amount,r=e.currency,n=e.loginid,o=e.payment_agent_name;this.config.payment_agent.confirm={amount:t,currency:r,loginid:n,payment_agent_name:o}}},{key:"setReceipt",value:function(e){var t=e.amount_transferred,r=e.payment_agent_email,n=e.payment_agent_id,o=e.payment_agent_name,i=e.payment_agent_phone,s=e.payment_agent_url;this.config.payment_agent.receipt={amount_transferred:t,payment_agent_email:r,payment_agent_id:n,payment_agent_name:o,payment_agent_phone:i,payment_agent_url:s}}},{key:"addPaymentAgent",value:function(e){this.config.payment_agent.agents.push({text:e.name,value:e.paymentagent_loginid,max_withdrawal:e.max_withdrawal,min_withdrawal:e.min_withdrawal,email:e.email,phone:e.telephone,url:e.url})}},{key:"requestTryPaymentAgentWithdraw",value:(p=Rn(regeneratorRuntime.mark((function e(t){var r,n,o,i,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.loginid,n=t.currency,o=t.amount,i=t.verification_code,this.setErrorMessage(""),e.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:n,amount:o,verification_code:i,dry_run:1});case 4:2==+(s=e.sent).paymentagent_withdraw?(a=this.config.payment_agent.agents.find((function(e){return e.value===r})),this.setConfirmation(Dn({amount:o,currency:n,loginid:r},a&&{payment_agent_name:a.text})),this.setIsTryWithdrawSuccessful(!0)):this.setErrorMessage(s.error,this.resetPaymentAgent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"requestPaymentAgentWithdraw",value:(u=Rn(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.loginid,n=t.currency,o=t.amount,i=t.verification_code,this.setErrorMessage(""),e.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:n,amount:o,verification_code:i});case 4:1==+(a=e.sent).paymentagent_withdraw?(c=this.config.payment_agent.agents.find((function(e){return e.value===r})),this.setReceipt(Dn(Dn({amount_transferred:(0,s.formatMoney)(n,o,!0)},c&&{payment_agent_email:c.email,payment_agent_id:c.value,payment_agent_name:c.text,payment_agent_phone:c.phone,payment_agent_url:c.url}),!c&&{payment_agent_id:r})),this.setIsWithdrawSuccessful(!0),this.setIsTryWithdrawSuccessful(!1),this.setConfirmation({})):this.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"onMountAccountTransfer",value:(c=Rn(regeneratorRuntime.mark((function e(){var t,r,n,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountAccountTransfer,e.next=4,this.onMountCommon();case 4:return e.next=6,this.WS.wait("website_status");case 6:if(this.config.account_transfer.has_no_accounts_balance&&Object.keys(this.root_store.client.active_accounts).find((function(e){return!i.root_store.client.active_accounts[e].is_virtual&&i.root_store.client.active_accounts[e].balance}))&&this.setHasNoAccountsBalance(!1),!this.root_store.client.is_logged_in){e.next=24;break}return e.next=11,this.WS.authorized.transferBetweenAccounts();case 11:if(!(r=e.sent).error){e.next=16;break}return this.setErrorMessage(r.error,this.onMountAccountTransfer),this.setLoading(!1),e.abrupt("return");case 16:if(this.canDoAccountTransfer(r.accounts)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,this.sortAccountsTransfer(r);case 20:this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit(),(null===(t=this.config.account_transfer.accounts_list)||void 0===t?void 0:t.length)>0&&(n=sessionStorage.getItem("mt5_transfer_to_login_id"),sessionStorage.removeItem("mt5_transfer_to_login_id"),(o=this.config.account_transfer.accounts_list.find((function(e){return e.value===n})))&&(Hn(o.value)&&(o.error=Un(o.value)),this.setSelectedTo(o)));case 24:this.setLoading(!1);case 25:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"canDoAccountTransfer",value:function(e){var t=!0;return e.find((function(e){return+e.balance>0}))?this.setHasNoAccountsBalance(!1):(t=!1,this.setHasNoAccountsBalance(!0)),e.length<=1?(t=!1,this.setHasNoAccount(!0)):this.setHasNoAccount(!1),t||this.setLoading(!1),t}},{key:"setHasNoAccountsBalance",value:function(e){this.config.account_transfer.has_no_accounts_balance=e}},{key:"setHasNoAccount",value:function(e){this.config.account_transfer.has_no_account=e}},{key:"setTransferFee",value:function(){var e=(0,s.getPropertyValue)((0,s.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts","fees",this.config.account_transfer.selected_to.currency]);this.config.account_transfer.transfer_fee=void 0===e?1:+e}},{key:"setMinimumFee",value:function(){var e=(0,s.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.minimum_fee=(1/Math.pow(10,e)).toFixed(e)}},{key:"setTransferLimit",value:function(){var e=this.config.account_transfer.selected_from.is_mt||this.config.account_transfer.selected_to.is_mt,t=(0,s.getPropertyValue)((0,s.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts",e?"limits_mt5":"limits"]),r=this.config.account_transfer.selected_from.balance,n=(0,s.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.transfer_limit={max:null==t||!t.max||+r>=((null==t?void 0:t.min)||0)&&+r<=(null==t?void 0:t.max)?r:null==t?void 0:t.max.toFixed(n),min:null!=t&&t.min?(+(null==t?void 0:t.min)).toFixed(n):null}}},{key:"sortAccountsTransfer",value:(n=Rn(regeneratorRuntime.mark((function e(t){var r,n,o,i,c,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,this.WS.authorized.transferBetweenAccounts();case 4:e.t0=e.sent;case 5:if(n=e.t0,this.config.account_transfer.accounts_list.length){e.next=9;break}if(!(n.error||n.accounts.length<=1)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.WS.storage.mt5LoginList();case 11:if(e.t2=r=e.sent,e.t1=null===e.t2,e.t1){e.next=15;break}e.t1=void 0===r;case 15:if(!e.t1){e.next=19;break}e.t3=void 0,e.next=20;break;case 19:e.t3=r.mt5_login_list;case 20:o=e.t3,(i=n.accounts.map((function(e){if("mt5"===e.account_type&&Array.isArray(o)&&o.length){var t=o.find((function(t){return t.login===e.loginid}));return void 0===t?e:Dn(Dn(Dn({},e),t),{},{account_type:"mt5"})}return e}))).sort((function(e,t){var r="mt5"===e.account_type,n="mt5"===t.account_type,o=!r&&(0,s.isCryptocurrency)(e.currency),i=!n&&(0,s.isCryptocurrency)(t.currency),a=!r&&!o,c=!n&&!i;return r&&n?"gaming"===e.market_type?-1:"financial"===e.sub_account_type?"gaming"===t.market_type?1:-1:1:o&&i||a&&c?e.currency<t.currency?-1:1:o&&n||a&&i||a&&n||r?-1:1})),c=[],this.setSelectedTo({}),i.forEach((function(e){var t=Dn({text:"mt5"===e.account_type?"".concat((0,a.localize)("DMT5")," ").concat((0,s.getMT5AccountDisplay)(e.market_type,e.sub_account_type)):(0,s.getCurrencyDisplayCode)("eUSDT"!==e.currency?e.currency.toUpperCase():e.currency),value:e.loginid,balance:e.balance,currency:e.currency,is_crypto:(0,s.isCryptocurrency)(e.currency),is_mt:"mt5"===e.account_type},"mt5"===e.account_type&&{mt_icon:(0,s.getMT5Account)(e.market_type,e.sub_account_type)});e.loginid===u.root_store.client.loginid?(Hn(t.value)&&(t.error=Un(t.value,!0)),u.setSelectedFrom(t)):(0,s.isEmptyObject)(u.config.account_transfer.selected_to)&&(Hn(t.value)&&(t.error=Un(t.value)),u.setSelectedTo(t)),c.push(t)})),this.setAccounts(c);case 27:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setSelectedFrom",value:function(e){this.config.account_transfer.selected_from=e}},{key:"setSelectedTo",value:function(e){this.config.account_transfer.selected_to=e}},{key:"setAccounts",value:function(e){this.config.account_transfer.accounts_list=e}},{key:"setIsTryTransferSuccessful",value:function(e){this.setErrorMessage(""),this.config[this.active_container].is_try_transfer_successful=e}},{key:"setIsTransferConfirm",value:function(e){this.config[this.active_container].is_transfer_confirm=e}},{key:"setAccountTransferAmount",value:function(e){this.config[this.active_container].account_transfer_amount=e}},{key:"setIsTransferSuccessful",value:function(e){this.config[this.active_container].is_transfer_successful=e}},{key:"setIsMT5TransferInProgress",value:function(e){this.config[this.active_container].is_mt5_transfer_in_progress=e}},{key:"isMT5TransferInProgress",value:function(){var e;return null===(e=this.config[this.active_container])||void 0===e?void 0:e.is_mt5_transfer_in_progress}},{key:"setReceiptTransfer",value:function(e){var t=e.amount;this.config.account_transfer.receipt={amount_transferred:t}}},{key:"onChangeTransferFrom",value:function(e){var t=e.target;this.setErrorMessage(""),this.config.account_transfer.selected_from.error="";var r=this.config.account_transfer.accounts_list.find((function(e){return e.value===t.value}));if(r.value===this.config.account_transfer.selected_to.value)this.onChangeTransferTo({target:{value:this.config.account_transfer.selected_from.value}});else if(r.is_mt&&this.config.account_transfer.selected_to.is_mt){var n=this.config.account_transfer.accounts_list.find((function(e){return!e.is_mt}));this.onChangeTransferTo({target:{value:n.value}})}else if(r.is_crypto&&this.config.account_transfer.selected_to.is_crypto){var o=this.config.account_transfer.accounts_list.find((function(e){return!e.is_crypto}));this.onChangeTransferTo({target:{value:o.value}})}Hn(r.value)&&(r.error=Un(r.value,!0)),this.config.account_transfer.selected_from=r,this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onChangeTransferTo",value:function(e){var t=e.target;this.setErrorMessage(""),this.config.account_transfer.selected_to.error="";var r=this.config.account_transfer.accounts_list;this.config.account_transfer.selected_to=r.find((function(e){return e.value===t.value}))||{},Hn(this.config.account_transfer.selected_to.value)&&(this.config.account_transfer.selected_to.error=Un(this.config.account_transfer.selected_to.value)),this.setTransferFee(),this.setTransferLimit()}},{key:"onMountPaymentAgentTransfer",value:(r=Rn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentTransfer,e.next=4,this.onMountCommon();case 4:if(this.config.payment_agent_transfer.transfer_limit.min_withdrawal){e.next=10;break}return e.next=7,this.getPaymentAgentList();case 7:t=e.sent,r=this.getCurrentPaymentAgent(t),this.setMinMaxPaymentAgentTransfer(r);case 10:this.setLoading(!1);case 11:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getCurrentPaymentAgent",value:function(e){var t=this;return e.paymentagent_list.list.find((function(e){return e.paymentagent_loginid===t.root_store.client.loginid}))||{}}},{key:"checkIsPaymentAgent",value:(t=Rn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.authorized.storage.getSettings();case 2:r=e.sent.get_settings,this.setIsPaymentAgent(null!==(t=null==r?void 0:r.is_authenticated_payment_agent)&&void 0!==t&&t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setIsPaymentAgent",value:function(e){!e&&window.location.pathname.endsWith(s.routes.cashier_pa_transfer)&&this.root_store.common.routeTo(s.routes.cashier_deposit),this.config.payment_agent_transfer.is_payment_agent=!!e}},{key:"setMinMaxPaymentAgentTransfer",value:function(e){var t=e.min_withdrawal,r=e.max_withdrawal;this.config.payment_agent_transfer.transfer_limit={min:t,max:r}}},{key:"setConfirmationPaymentAgentTransfer",value:function(e){var t=e.amount,r=e.client_id,n=e.client_name,o=e.description;this.config.payment_agent_transfer.confirm={amount:t,client_id:r,client_name:n,description:o}}},{key:"setReceiptPaymentAgentTransfer",value:function(e){var t=e.amount_transferred,r=e.client_id,n=e.client_name;this.config.payment_agent_transfer.receipt={amount_transferred:t,client_id:r,client_name:n}}},{key:"accountSwitcherListener",value:function(){var e=this;return[this.config.withdraw.container,this.config.payment_agent.container].forEach((function(t){e.clearVerification(t)})),[this.config.deposit.container,this.config.withdraw.container].forEach((function(t){e.setIframeUrl("",t),e.clearTimeoutCashierUrl(t),e.setSessionTimeout(!0,t)})),this.config.payment_agent=new Jn,this.config.account_transfer=new Yn,this.config.payment_agent_transfer=new Xn,this.is_populating_values=!1,this.onRemount(),Promise.resolve()}},{key:"is_payment_agent_visible",get:function(){return!(!this.config.payment_agent.filtered_list.length&&!this.config.payment_agent.agents.length)}},{key:"is_payment_agent_transfer_visible",get:function(){return this.config.payment_agent_transfer.is_payment_agent}},{key:"is_account_transfer_visible",get:function(){return"im"!==this.root_store.client.residence}},{key:"is_p2p_enabled",get:function(){return this.is_p2p_visible&&!this.root_store.client.is_eu}},{key:"is_cashier_locked",get:function(){return!!this.root_store.client.account_status.status&&this.root_store.client.account_status.status.some((function(e){return"cashier_locked"===e}))}},{key:"is_deposit_locked",get:function(){var e=this.root_store.client,t=e.is_authentication_needed,r=e.is_tnc_needed,n=e.is_financial_account,o=e.is_financial_information_incomplete,i=e.is_trading_experience_incomplete,s=e.account_status,a=e.is_eu,c=e.mt5_login_list;if(!s.status)return!1;var u=this.config.deposit.error.is_ask_authentication||t&&a,p=n&&(o||i),l=(a||c.some((function(e){return"real"===e.account_type&&"financial_stp"===e.sub_account_type})))&&r;return u||l||p||this.config.deposit.error.is_ask_financial_risk_approval}},{key:"is_withdrawal_locked",get:function(){if(!this.root_store.client.account_status.status)return!1;var e=this.root_store.client.account_status.authentication.needs_verification.includes("identity"),t=this.config.withdraw.error.is_ask_authentication&&e;return this.root_store.client.is_withdrawal_lock||t||this.config.withdraw.error.is_ask_financial_risk_approval}},{key:"is_transfer_locked",get:function(){var e=this.root_store.client,t=e.is_financial_account,r=e.is_financial_information_incomplete,n=e.is_trading_experience_incomplete;return!!e.account_status.status&&t&&(r||n)&&this.config.account_transfer.error.is_ask_financial_risk_approval}}]),w}(De)).prototype,"is_loading",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bn=qn(gn.prototype,"is_p2p_visible",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vn=qn(gn.prototype,"p2p_notification_count",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wn=qn(gn.prototype,"cashier_route_tab_index",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kn=qn(gn.prototype,"config",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{account_transfer:new Yn,deposit:Dn(Dn({},(0,i.toJS)(new Gn({container:"deposit"}))),{},{error:new Kn}),payment_agent:new Jn,payment_agent_transfer:new Xn,withdraw:Dn(Dn({},(0,i.toJS)(new Gn({container:"withdraw"}))),{},{error:new Kn,verification:new $n})}}}),qn(gn.prototype,"is_payment_agent_visible",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_payment_agent_visible"),gn.prototype),qn(gn.prototype,"is_payment_agent_transfer_visible",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_payment_agent_transfer_visible"),gn.prototype),qn(gn.prototype,"is_account_transfer_visible",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_account_transfer_visible"),gn.prototype),qn(gn.prototype,"is_p2p_enabled",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_p2p_enabled"),gn.prototype),qn(gn.prototype,"setAccountSwitchListener",[Zt],Object.getOwnPropertyDescriptor(gn.prototype,"setAccountSwitchListener"),gn.prototype),qn(gn.prototype,"init",[er],Object.getOwnPropertyDescriptor(gn.prototype,"init"),gn.prototype),qn(gn.prototype,"checkP2pStatus",[tr],Object.getOwnPropertyDescriptor(gn.prototype,"checkP2pStatus"),gn.prototype),qn(gn.prototype,"onMountCommon",[rr],Object.getOwnPropertyDescriptor(gn.prototype,"onMountCommon"),gn.prototype),qn(gn.prototype,"setCashierTabIndex",[nr],Object.getOwnPropertyDescriptor(gn.prototype,"setCashierTabIndex"),gn.prototype),qn(gn.prototype,"setNotificationCount",[or],Object.getOwnPropertyDescriptor(gn.prototype,"setNotificationCount"),gn.prototype),qn(gn.prototype,"setIsP2pVisible",[ir],Object.getOwnPropertyDescriptor(gn.prototype,"setIsP2pVisible"),gn.prototype),qn(gn.prototype,"onMount",[sr],Object.getOwnPropertyDescriptor(gn.prototype,"onMount"),gn.prototype),qn(gn.prototype,"is_cashier_locked",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_cashier_locked"),gn.prototype),qn(gn.prototype,"is_deposit_locked",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_deposit_locked"),gn.prototype),qn(gn.prototype,"is_withdrawal_locked",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_withdrawal_locked"),gn.prototype),qn(gn.prototype,"is_transfer_locked",[i.computed],Object.getOwnPropertyDescriptor(gn.prototype,"is_transfer_locked"),gn.prototype),qn(gn.prototype,"checkIframeLoaded",[ar],Object.getOwnPropertyDescriptor(gn.prototype,"checkIframeLoaded"),gn.prototype),qn(gn.prototype,"setIframeUrl",[cr],Object.getOwnPropertyDescriptor(gn.prototype,"setIframeUrl"),gn.prototype),qn(gn.prototype,"setContainerHeight",[ur],Object.getOwnPropertyDescriptor(gn.prototype,"setContainerHeight"),gn.prototype),qn(gn.prototype,"setErrorMessage",[pr],Object.getOwnPropertyDescriptor(gn.prototype,"setErrorMessage"),gn.prototype),qn(gn.prototype,"handleCashierError",[lr],Object.getOwnPropertyDescriptor(gn.prototype,"handleCashierError"),gn.prototype),qn(gn.prototype,"setErrorConfig",[fr],Object.getOwnPropertyDescriptor(gn.prototype,"setErrorConfig"),gn.prototype),qn(gn.prototype,"submitFundsProtection",[hr],Object.getOwnPropertyDescriptor(gn.prototype,"submitFundsProtection"),gn.prototype),qn(gn.prototype,"setLoading",[dr],Object.getOwnPropertyDescriptor(gn.prototype,"setLoading"),gn.prototype),qn(gn.prototype,"setSessionTimeout",[yr],Object.getOwnPropertyDescriptor(gn.prototype,"setSessionTimeout"),gn.prototype),qn(gn.prototype,"setVerificationButtonClicked",[_r],Object.getOwnPropertyDescriptor(gn.prototype,"setVerificationButtonClicked"),gn.prototype),qn(gn.prototype,"setVerificationEmailSent",[gr],Object.getOwnPropertyDescriptor(gn.prototype,"setVerificationEmailSent"),gn.prototype),qn(gn.prototype,"setVerificationResendClicked",[mr],Object.getOwnPropertyDescriptor(gn.prototype,"setVerificationResendClicked"),gn.prototype),qn(gn.prototype,"setVerificationResendTimeout",[br],Object.getOwnPropertyDescriptor(gn.prototype,"setVerificationResendTimeout"),gn.prototype),qn(gn.prototype,"setTimeoutCashierUrl",[vr],Object.getOwnPropertyDescriptor(gn.prototype,"setTimeoutCashierUrl"),gn.prototype),qn(gn.prototype,"setTimeoutVerification",[wr],Object.getOwnPropertyDescriptor(gn.prototype,"setTimeoutVerification"),gn.prototype),qn(gn.prototype,"sendVerificationEmail",[kr],Object.getOwnPropertyDescriptor(gn.prototype,"sendVerificationEmail"),gn.prototype),qn(gn.prototype,"resendVerificationEmail",[Or],Object.getOwnPropertyDescriptor(gn.prototype,"resendVerificationEmail"),gn.prototype),qn(gn.prototype,"setActiveTab",[Pr],Object.getOwnPropertyDescriptor(gn.prototype,"setActiveTab"),gn.prototype),qn(gn.prototype,"onMountPaymentAgentList",[Sr],Object.getOwnPropertyDescriptor(gn.prototype,"onMountPaymentAgentList"),gn.prototype),qn(gn.prototype,"getPaymentAgentList",[Cr],Object.getOwnPropertyDescriptor(gn.prototype,"getPaymentAgentList"),gn.prototype),qn(gn.prototype,"addSupportedBank",[Ar],Object.getOwnPropertyDescriptor(gn.prototype,"addSupportedBank"),gn.prototype),qn(gn.prototype,"sortSupportedBanks",[Tr],Object.getOwnPropertyDescriptor(gn.prototype,"sortSupportedBanks"),gn.prototype),qn(gn.prototype,"setPaymentAgentList",[Dr],Object.getOwnPropertyDescriptor(gn.prototype,"setPaymentAgentList"),gn.prototype),qn(gn.prototype,"filterPaymentAgentList",[jr],Object.getOwnPropertyDescriptor(gn.prototype,"filterPaymentAgentList"),gn.prototype),qn(gn.prototype,"onChangePaymentMethod",[Ir],Object.getOwnPropertyDescriptor(gn.prototype,"onChangePaymentMethod"),gn.prototype),qn(gn.prototype,"onMountPaymentAgentWithdraw",[xr],Object.getOwnPropertyDescriptor(gn.prototype,"onMountPaymentAgentWithdraw"),gn.prototype),qn(gn.prototype,"setIsWithdraw",[Rr],Object.getOwnPropertyDescriptor(gn.prototype,"setIsWithdraw"),gn.prototype),qn(gn.prototype,"setIsTryWithdrawSuccessful",[Er],Object.getOwnPropertyDescriptor(gn.prototype,"setIsTryWithdrawSuccessful"),gn.prototype),qn(gn.prototype,"setIsWithdrawSuccessful",[Lr],Object.getOwnPropertyDescriptor(gn.prototype,"setIsWithdrawSuccessful"),gn.prototype),qn(gn.prototype,"setConfirmation",[zr],Object.getOwnPropertyDescriptor(gn.prototype,"setConfirmation"),gn.prototype),qn(gn.prototype,"setReceipt",[Mr],Object.getOwnPropertyDescriptor(gn.prototype,"setReceipt"),gn.prototype),qn(gn.prototype,"addPaymentAgent",[Wr],Object.getOwnPropertyDescriptor(gn.prototype,"addPaymentAgent"),gn.prototype),qn(gn.prototype,"requestTryPaymentAgentWithdraw",[Vr],Object.getOwnPropertyDescriptor(gn.prototype,"requestTryPaymentAgentWithdraw"),gn.prototype),qn(gn.prototype,"requestPaymentAgentWithdraw",[Fr],Object.getOwnPropertyDescriptor(gn.prototype,"requestPaymentAgentWithdraw"),gn.prototype),On=qn(gn.prototype,"resetPaymentAgent",[Br],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setErrorMessage(""),e.setIsWithdraw(!1),e.clearVerification()}}}),qn(gn.prototype,"onMountAccountTransfer",[Nr],Object.getOwnPropertyDescriptor(gn.prototype,"onMountAccountTransfer"),gn.prototype),qn(gn.prototype,"setHasNoAccountsBalance",[qr],Object.getOwnPropertyDescriptor(gn.prototype,"setHasNoAccountsBalance"),gn.prototype),qn(gn.prototype,"setHasNoAccount",[Hr],Object.getOwnPropertyDescriptor(gn.prototype,"setHasNoAccount"),gn.prototype),qn(gn.prototype,"setTransferFee",[Ur],Object.getOwnPropertyDescriptor(gn.prototype,"setTransferFee"),gn.prototype),qn(gn.prototype,"setMinimumFee",[Gr],Object.getOwnPropertyDescriptor(gn.prototype,"setMinimumFee"),gn.prototype),qn(gn.prototype,"setTransferLimit",[Kr],Object.getOwnPropertyDescriptor(gn.prototype,"setTransferLimit"),gn.prototype),qn(gn.prototype,"sortAccountsTransfer",[Jr],Object.getOwnPropertyDescriptor(gn.prototype,"sortAccountsTransfer"),gn.prototype),qn(gn.prototype,"setSelectedFrom",[Xr],Object.getOwnPropertyDescriptor(gn.prototype,"setSelectedFrom"),gn.prototype),qn(gn.prototype,"setSelectedTo",[Yr],Object.getOwnPropertyDescriptor(gn.prototype,"setSelectedTo"),gn.prototype),qn(gn.prototype,"setAccounts",[$r],Object.getOwnPropertyDescriptor(gn.prototype,"setAccounts"),gn.prototype),qn(gn.prototype,"setIsTryTransferSuccessful",[Qr],Object.getOwnPropertyDescriptor(gn.prototype,"setIsTryTransferSuccessful"),gn.prototype),qn(gn.prototype,"setIsTransferConfirm",[Zr],Object.getOwnPropertyDescriptor(gn.prototype,"setIsTransferConfirm"),gn.prototype),qn(gn.prototype,"setAccountTransferAmount",[en],Object.getOwnPropertyDescriptor(gn.prototype,"setAccountTransferAmount"),gn.prototype),qn(gn.prototype,"setIsTransferSuccessful",[tn],Object.getOwnPropertyDescriptor(gn.prototype,"setIsTransferSuccessful"),gn.prototype),qn(gn.prototype,"setIsMT5TransferInProgress",[rn],Object.getOwnPropertyDescriptor(gn.prototype,"setIsMT5TransferInProgress"),gn.prototype),qn(gn.prototype,"isMT5TransferInProgress",[nn],Object.getOwnPropertyDescriptor(gn.prototype,"isMT5TransferInProgress"),gn.prototype),qn(gn.prototype,"setReceiptTransfer",[on],Object.getOwnPropertyDescriptor(gn.prototype,"setReceiptTransfer"),gn.prototype),qn(gn.prototype,"onChangeTransferFrom",[sn],Object.getOwnPropertyDescriptor(gn.prototype,"onChangeTransferFrom"),gn.prototype),qn(gn.prototype,"onChangeTransferTo",[an],Object.getOwnPropertyDescriptor(gn.prototype,"onChangeTransferTo"),gn.prototype),Pn=qn(gn.prototype,"resetAccountTransfer",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Rn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setIsTransferSuccessful(!1);case 1:case"end":return t.stop()}}),t)})))}}),qn(gn.prototype,"onMountPaymentAgentTransfer",[un],Object.getOwnPropertyDescriptor(gn.prototype,"onMountPaymentAgentTransfer"),gn.prototype),qn(gn.prototype,"setIsPaymentAgent",[pn],Object.getOwnPropertyDescriptor(gn.prototype,"setIsPaymentAgent"),gn.prototype),qn(gn.prototype,"setMinMaxPaymentAgentTransfer",[ln],Object.getOwnPropertyDescriptor(gn.prototype,"setMinMaxPaymentAgentTransfer"),gn.prototype),qn(gn.prototype,"setConfirmationPaymentAgentTransfer",[fn],Object.getOwnPropertyDescriptor(gn.prototype,"setConfirmationPaymentAgentTransfer"),gn.prototype),Sn=qn(gn.prototype,"requestTryPaymentAgentTransfer",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Rn(regeneratorRuntime.mark((function t(r){var n,o,i,s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.amount,o=r.currency,i=r.description,s=r.transfer_to,e.setErrorMessage(""),t.next=4,e.WS.authorized.paymentAgentTransfer({amount:n,currency:o,description:i,transfer_to:s,dry_run:1});case 4:return 2==+(a=t.sent).paymentagent_transfer?(e.setConfirmationPaymentAgentTransfer({client_id:s,client_name:a.client_to_full_name,amount:n,description:i}),e.setIsTryTransferSuccessful(!0)):e.setErrorMessage(a.error,e.resetPaymentAgentTransfer),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),qn(gn.prototype,"setReceiptPaymentAgentTransfer",[dn],Object.getOwnPropertyDescriptor(gn.prototype,"setReceiptPaymentAgentTransfer"),gn.prototype),Cn=qn(gn.prototype,"requestPaymentAgentTransfer",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Rn(regeneratorRuntime.mark((function t(r){var n,o,i,s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.amount,o=r.currency,i=r.description,s=r.transfer_to,e.setErrorMessage(""),t.next=4,e.WS.authorized.paymentAgentTransfer({amount:n,currency:o,description:i,transfer_to:s});case 4:return 1==+(a=t.sent).paymentagent_transfer?(e.setReceiptPaymentAgentTransfer({amount_transferred:n,client_id:s,client_name:a.client_to_full_name}),e.setIsTransferSuccessful(!0),e.setIsTryTransferSuccessful(!1),e.setConfirmationPaymentAgentTransfer({})):e.setErrorMessage(a.error,e.resetPaymentAgentTransfer),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),An=qn(gn.prototype,"resetPaymentAgentTransfer",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setIsTransferSuccessful(!1),e.setErrorMessage("")}}}),gn)},"./_common/utility.js":e=>{var t,r=["it","de","fr","lu","gr","mf","es","sk","lt","nl","at","bg","si","cy","be","ro","hr","pt","pl","lv","ee","cz","fi","hu","dk","se","ie","im","gb","mt"];e.exports={template:function(e,t){var r=t;return t&&!Array.isArray(t)&&(r=[t]),e.replace(/\[_(\d+)]/g,(function(e,t){return r[+t-1]}))},createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(e);return Object.keys(t).forEach((function(e){var n=t[e];"text"===e?r.textContent=n:"html"===e?r.html(n):r.setAttribute(e,n)})),r},getStaticHash:function(){return t=t||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,r){t.reject=r,t.resolve=e}))},isEuCountry:function(e){return r.includes(e)},copyToClipboard:function(e){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}}},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,r)=>{"use strict";var n=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(e,t,r)=>{e.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"@deriv/components":t=>{"use strict";t.exports=e},"@deriv/shared":e=>{"use strict";e.exports=t},"@deriv/translations":e=>{"use strict";e.exports=r},mobx:e=>{"use strict";e.exports=n},react:e=>{"use strict";e.exports=o}},p={};function l(e){if(p[e])return p[e].exports;var t=p[e]={exports:{}};return u[e].call(t.exports,t,t.exports,l),t.exports}return l.m=u,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);l.r(r);var n={};i=i||[null,s({}),s([]),s(s)];for(var o=2&t&&e;"object"==typeof o&&!~i.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,l.d(r,n),r},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,r)=>(l.f[r](e,t),t)),[])),l.u=e=>"js/cashier."+e+".4b458ac4203eb84dc516.js",l.miniCssF=e=>{},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},c="@deriv/cashier:",l.l=(e,t,r,n)=>{if(a[e])a[e].push(t);else{var o,i;if(void 0!==r)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var p=s[u];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==c+r){o=p;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.setAttribute("data-webpack",c+r),o.src=e),a[e]=[t];var f=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var n=a[e];if(delete a[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),i&&document.head.appendChild(o)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="/",(()=>{var e={"cashier-store":0};l.f.j=(t,r)=>{var n=l.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>{n=e[t]=[r,o]}));r.push(n[2]=o);var i=l.p+l.u(t),s=new Error;l.l(i,(r=>{if(l.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{for(var n,o,[i,s,a]=r,c=0,u=[];c<i.length;c++)o=i[c],l.o(e,o)&&e[o]&&u.push(e[o][0]),e[o]=0;for(n in s)l.o(s,n)&&(l.m[n]=s[n]);for(a&&a(l),t&&t(r);u.length;)u.shift()()},r=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),l("./Stores/Cashier/cashier-store.js")})().default}));