(window.webpackJsonp=window.webpackJsonp||[]).push([["set-residence-modal"],{753:function(e,t,n){"use strict";var r=n(42),i=n(1),a=n.n(i),c=n(0),s=n(6),l=n(5);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t=e.class_prefix,n=void 0===t?"set-residence":t,i=e.children,a=e.default_value,d=e.header_text,u=e.errors,p=e.touched,b=e.setFieldTouched,f=e.setFieldValue,_=e.residence_list;return c.useEffect((function(){a&&(b("residence",!0),f("residence",a,!0))}),[]),c.createElement("div",{className:"".concat(n,"__residence-selection")},!!d&&c.createElement(s.Text,{as:"p",weight:"bold",className:"".concat(n,"__heading")},d),c.createElement(s.Text,{as:"p",className:"".concat(n,"__").concat(d?"text":"heading")},Object(l.localize)("Where do you live?")),c.createElement(r.Field,{name:"residence"},(function(e){var t=e.field;return c.createElement(c.Fragment,null,c.createElement(s.DesktopWrapper,null,c.createElement(s.Autocomplete,o({},t,{autoComplete:"off",className:"".concat(n,"__residence-field"),type:"text",label:Object(l.localize)("Choose country"),error:p.residence&&u.residence,required:!0,list_items:_,onItemSelection:function(e){var t=e.value,n=e.text;return f("residence",t?n:"",!0)},should_filter_by_char:!0}))),c.createElement(s.MobileWrapper,null,c.createElement(s.SelectNative,{placeholder:Object(l.localize)("Please select"),label:Object(l.localize)("Choose country"),value:t.value,list_items:_,error:p.residence&&u.residence,required:!0,use_text:!0,onChange:function(e){b("residence",!0),f("residence",e.target.value,!0)}})))})),i)};d.propTypes={children:a.a.node,default_value:a.a.string,class_prefix:a.a.string,header_text:a.a.string,residence_list:a.a.arrayOf(a.a.object)},t.a=d},773:function(e,t,n){},788:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(3),i=n.n(r),a=n(42),c=n(1),s=n.n(c),l=n(0),o=n(6),d=n(5),u=n(9),p=n(2),b=n(753);n(773);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e,t){return e.text.toLowerCase()===t.residence.toLowerCase()},g=function(e){var t=e.enableApp,n=e.onSetResidence,r=e.residence_list,c=e.toggleModalVisibility,s=function(e){if(e)throw Error(e);c(!1),t()};return l.createElement("div",{className:"set-residence"},l.createElement(a.Formik,{initialValues:{residence:""},validate:function(e){return function(e,t){var n={};if(e.residence){var r=t.findIndex((function(t){return v(t,e)}));-1!==r&&"DISABLED"!==t[r].disabled||(n.residence=Object(d.localize)("Unfortunately, {{website_name}} is not available in your country.",{website_name:p.website_name}))}else n.residence=!0;return n}(e,r)},onSubmit:function(e){var t=r.findIndex((function(t){return v(t,e)})),i=_(_({},e),{},{residence:r[t].value});n(i,s)}},(function(e){var t=e.isSubmitting,n=e.errors,c=e.values,s=e.setFieldValue,u=e.touched;return l.createElement(a.Form,null,l.createElement(l.Fragment,null,l.createElement(b.a,{errors:n,touched:u,setFieldValue:s,residence_list:r},l.createElement(o.Text,{as:"p",size:"xxs",weight:"bold",className:"set-residence__subtext"},Object(d.localize)("We need this to make sure our service complies with laws and regulations in your country.")),l.createElement(o.Button,{className:i()("set-residence__btn",{"set-residence__btn--disabled":!c.residence||n.residence||t}),type:"submit",is_disabled:!c.residence||!!n.residence||t,text:Object(d.localize)("Set residence"),primary:!0}))))})))};g.propTypes={enableApp:s.a.func,onSetResidence:s.a.func,residence_list:s.a.array,toggleModalVisibility:s.a.func};var y=function(e){var t=e.enableApp,n=e.disableApp,r=e.is_loading,i=e.is_visible,a=e.onSetResidence,c=e.residence_list,s=e.toggleSetResidenceModal;return c.length<1?null:l.createElement(o.Dialog,{is_visible:i,disableApp:n,enableApp:t,is_loading:r||!c.length,is_content_centered:!0},l.createElement(g,{onSetResidence:a,residence_list:c,toggleModalVisibility:s,enableApp:t}))};y.propTypes={disableApp:s.a.func,enableApp:s.a.func,is_loading:s.a.bool,is_visible:s.a.bool,onSetResidence:s.a.func,residence_list:s.a.arrayOf(s.a.object)};var h=Object(u.b)((function(e){var t=e.ui,n=e.client;return{is_visible:t.is_set_residence_modal_visible,toggleSetResidenceModal:t.toggleSetResidenceModal,enableApp:t.enableApp,disableApp:t.disableApp,is_loading:t.is_loading,onSetResidence:n.onSetResidence,residence_list:n.residence_list}}))(y)}}]);
//# sourceMappingURL=core.set-residence-modal.511b671a3b77de2fa79a.js.map