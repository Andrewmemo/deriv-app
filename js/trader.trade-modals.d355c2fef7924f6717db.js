(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["trade-modals"],{"./App/Components/Elements/Modals/UnsupportedContractModal/index.js":(e,o,i)=>{"use strict";i.d(o,{Z:()=>d});var t=i("../../../node_modules/prop-types/index.js"),r=i.n(t),n=i("react"),l=i("@deriv/components"),a=i("@deriv/translations"),s=i("./Stores/connect.js"),c=i("@deriv/shared"),_=function(e){var o=e.disableApp,i=e.enableApp,t=e.is_loading,r=e.is_visible,s=e.onConfirm,_=e.onClose;return n.createElement(l.Dialog,{title:(0,a.localize)("We’re working on it"),confirm_button_text:(0,a.localize)("Stay on {{website_domain}}",{website_domain:c.website_name}),cancel_button_text:(0,a.localize)("Go to Binary.com"),onConfirm:s,onCancel:_,disableApp:o,enableApp:i,is_loading:t,is_closed_on_cancel:!0,is_visible:r},n.createElement(a.Localize,{i18n_default_text:"You’ve selected a trade type that is currently unsupported, but we’re working on it."}))};_.propTypes={disableApp:r().func,enableApp:r().func,is_loading:r().bool,is_visible:r().bool,onClose:r().func,onConfirm:r().func};const d=(0,s.$j)((function(e){var o=e.ui;return{disableApp:o.disableApp,enableApp:o.enableApp,is_loading:o.is_loading}}))(_)},"./App/Containers/Modals/index.js":(e,o,i)=>{"use strict";i.r(o),i.d(o,{default:()=>E});var t=i("react"),r=i("@deriv/shared"),n=i("./Stores/connect.js"),l=i("./App/Components/Elements/Modals/UnsupportedContractModal/index.js"),a=i("../../../node_modules/prop-types/index.js"),s=i.n(a),c=i("@deriv/components"),_=i("@deriv/translations"),d=function(e){var o=e.disableApp,i=e.enableApp,r=e.is_loading,n=e.is_visible,l=e.onCancel,a=e.onConfirm;return t.createElement(c.Dialog,{className:"market-unavailable-modal",title:(0,_.localize)("We’re working on it"),confirm_button_text:(0,_.localize)("Stay on DTrader"),cancel_button_text:(0,_.localize)("Go to SmartTrader"),onConfirm:a,onCancel:l,is_mobile_full_width:!1,is_visible:n,disableApp:o,enableApp:i,is_loading:r},t.createElement(_.Localize,{i18n_default_text:"This market is not yet available on DTrader, but it is on SmartTrader."}))};d.propTypes={disableApp:s().func,enableApp:s().func,is_loading:s().bool,is_visible:s().bool,onCancel:s().func,onConfirm:s().func};const u=(0,n.$j)((function(e){var o=e.ui;return{disableApp:o.disableApp,enableApp:o.enableApp,is_loading:o.is_loading}}))(d);var p={buy:(0,_.localize)("Purchase Error"),cancel:(0,_.localize)("Deal Cancellation Error"),contract_update:(0,_.localize)("Contract Update Error"),sell:(0,_.localize)("Sell Error")},b=function(e){var o=e.is_visible,i=e.toggleModal,n=e.is_deriv_crypto,l=e.is_logged_in;return t.createElement(c.Modal,{id:"dt_authorization_required_modal",is_open:o,small:!0,toggleModal:i,title:(0,_.localize)("Start trading with us")},t.createElement(c.Modal.Body,null,(0,_.localize)("Log in or create a free account to place a trade.")),t.createElement(c.Modal.Footer,null,t.createElement(c.Button,{has_effect:!0,text:(0,_.localize)("Log in"),onClick:function(){return(0,r.redirectToLogin)(l,(0,_.getLanguage)())},secondary:!0}),t.createElement(c.Button,{has_effect:!0,text:(0,_.localize)("Create free account"),onClick:function(){return(0,r.redirectToSignUp)({is_deriv_crypto:n})},primary:!0})))};b.propTypes={is_deriv_crypto:s().bool,is_visible:s().bool,is_logged_in:s().bool,toggleModal:s().func};const g=b;var m=i("react-router-dom"),v=function(e){var o=e.history,i=e.is_virtual,n=e.is_visible,l=e.message,a=e.toggleModal;return t.createElement(c.Modal,{id:"dt_insufficient_balance_modal",is_open:n,small:!0,is_vertical_centered:(0,r.isMobile)(),toggleModal:a,title:(0,_.localize)("Insufficient balance")},t.createElement(c.Modal.Body,null,l),t.createElement(c.Modal.Footer,null,t.createElement(c.Button,{has_effect:!0,text:i?(0,_.localize)("OK"):(0,_.localize)("Deposit now"),onClick:function(){i?a():o.push(r.routes.cashier_deposit)},primary:!0})))};v.propTypes={history:s().object,is_virtual:s().bool,is_visible:s().bool,message:s().string,toggleModal:s().func};const f=(0,m.withRouter)(v);var C=function(e){var o=e.is_virtual,i=e.is_visible,n=e.is_logged_in,l=e.onConfirm,a=e.services_error,s=a.code,d=a.message,u=t.useContext(r.PlatformContext).is_deriv_crypto;return s&&d?"AuthorizationRequired"===s?t.createElement(g,{is_logged_in:n,is_visible:i,toggleModal:l}):"InsufficientBalance"===s?t.createElement(f,{is_virtual:o,is_visible:i,message:d,toggleModal:l}):t.createElement(c.Modal,{is_open:i,small:!0,title:p[a.type],toggleModal:l},t.createElement(c.Modal.Body,null,d),t.createElement(c.Modal.Footer,null,t.createElement(c.Button,{has_effect:!0,is_deriv_crypto:u,text:(0,_.localize)("OK"),onClick:l,primary:!0}))):null};C.propTypes={is_visible:s().bool,is_virtual:s().bool,is_logged_in:s().bool,onConfirm:s().func,services_error:s().object};const y=C,E=(0,n.$j)((function(e){var o=e.ui,i=e.modules,t=e.common,r=e.client;return{is_market_unavailable_visible:o.has_only_forward_starting_contracts,is_services_error_visible:o.is_services_error_visible,is_unsupported_contract_modal_visible:o.is_unsupported_contract_modal_visible,is_virtual:r.is_virtual,is_logged_in:r.is_logged_in,proposal_info:i.trade.proposal_info,purchase_info:i.trade.purchase_info,resetPreviousSymbol:i.trade.resetPreviousSymbol,clearPurchaseInfo:i.trade.clearPurchaseInfo,resetPurchase:i.trade.requestProposal,services_error:t.services_error,setHasOnlyForwardingContracts:o.setHasOnlyForwardingContracts,toggleServicesErrorModal:o.toggleServicesErrorModal,toggleUnsupportedContractModal:o.toggleUnsupportedContractModal}}))((function(e){var o=e.clearPurchaseInfo,i=e.is_unsupported_contract_modal_visible,n=e.is_market_unavailable_visible,a=e.is_services_error_visible,s=e.is_virtual,c=e.is_logged_in,_=e.toggleUnsupportedContractModal,d=e.setHasOnlyForwardingContracts,p=e.resetPreviousSymbol,b=e.toggleServicesErrorModal,g=e.resetPurchase,m=e.services_error,v=function(){d(!1),p()},f=function(){_(!1)};return t.createElement(t.Fragment,null,t.createElement(l.Z,{onConfirm:f,onClose:function(){window.open((0,r.urlFor)("user/portfoliows",{legacy:!0}),"_blank"),f()},is_visible:i}),t.createElement(u,{onConfirm:function(){v()},onCancel:function(){window.open((0,r.getUrlSmartTrader)()),v()},is_visible:n}),t.createElement(y,{onConfirm:function(){b(!1),"buy"===m.type&&(o(),g())},services_error:m,is_visible:a,is_virtual:s,is_logged_in:c}))}))}}]);