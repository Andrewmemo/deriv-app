(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["mt5"],{"./Modules/MT5/index.js":(e,t,a)=>{"use strict";a.r(t),a.d(t,{MT5PasswordModal:()=>N,MT5ServerErrorDialog:()=>j,default:()=>ia});var n=a("../../../node_modules/formik/dist/formik.esm.js"),r=a("../../../node_modules/prop-types/index.js"),o=a.n(r),i=a("react"),c=a("react-router"),s=a("@deriv/components"),l=a("@deriv/shared"),u=a("@deriv/translations"),d=a("../../../node_modules/classnames/index.js"),m=a.n(d),_=function(e){var t=e.classNameMessage,a=void 0===t?void 0:t,n=e.has_cancel,r=e.has_submit,o=e.icon,c=e.message,l=e.onCancel,d=e.onSubmit,_=e.heading,p=e.icon_size,f=e.text_submit,g=e.text_cancel,h=e.is_open,b=e.toggleModal,y=e.title,v=e.has_close_icon,w=e.width,E=void 0===w?void 0:w;return i.createElement(s.Modal,{className:"mt5-success-dialog",is_open:h,toggleModal:b,has_close_icon:v,small:!y,title:y,width:E},i.createElement(s.Modal.Body,null,i.createElement("div",{className:m()("success-change__icon-area",{"success-change__icon-area--large":"large"===p,"success-change__icon-area--xlarge":"xlarge"===p})},i.createElement((function(){return o||null}),null),i.createElement((function(e){var t=e.className;return i.createElement(s.Icon,{className:t,icon:"IcCheckmarkCircle",custom_color:"var(--status-success)",size:24})}),{className:"bottom-right-overlay"})),!_&&i.createElement("h2",{className:"dc-modal-header__title"},i.createElement(u.Localize,{i18n_default_text:"Success!"})),_&&_,i.isValidElement(c)&&c,!i.isValidElement(c)&&i.createElement("p",{className:a},c)),i.createElement(s.Modal.Footer,null,n&&i.createElement(s.Button,{onClick:l,has_effect:!0,text:g||(0,u.localize)("Maybe later"),secondary:!0,large:!0}),r&&i.createElement(s.Button,{has_effect:!0,onClick:d,text:f,primary:!0,large:!0})))};_.defaultProps={icon_size:"large",has_cancel:!1,has_submit:!0},_.propTypes={classNameMessage:o().string,has_cancel:o().bool,has_submit:o().bool,heading:o().oneOfType([o().string,o().object]),icon:o().object,icon_size:o().string,icon_type:o().string,message:o().oneOfType([o().string,o().object]),onCancel:o().func,onSubmit:o().func,text_submit:o().string};const p=_;var f=a("./Stores/connect.js");function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e,t){if(e){if("string"==typeof e)return w(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var z=function(e,t){return"real"===t?(0,u.localize)("You have created a DMT5 {{account_title}} account. To start trading, transfer funds from your Deriv account into this account.",{account_title:e}):(0,u.localize)("You have created a DMT5 {{account_title}} account.",{account_title:e})},x=function(e){return i.createElement(n.J9,{initialValues:{password:"",server:e.server},validate:e.validatePassword,onSubmit:function(t,a){var n={password:t.password};t.server&&(n.server=t.server),e.submitMt5Form(n,a.setSubmitting)}},(function(t){var a=t.handleSubmit,n=t.setFieldTouched,r=t.handleChange,o=t.handleBlur,c=t.errors,d=t.values,m=t.touched,_=t.isSubmitting;return i.createElement("form",{onSubmit:a},i.createElement("div",{className:"mt5-password-modal__content"},i.createElement("h2",{className:"mt5-password-modal__title"},i.createElement(u.Localize,{i18n_default_text:"Choose a password for your DMT5 {{ account_type }} account",values:{account_type:e.account_title}})),i.createElement("div",{className:"dc-modal__container_mt5-password-modal__body"},i.createElement("div",{className:"input-element"},i.createElement(s.PasswordMeter,{input:d.password,has_error:!(!m.password||!c.password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var t=e.has_warning;return i.createElement(s.PasswordInput,{autoComplete:"new-password",label:(0,u.localize)("Create a password"),error:m.password&&c.password,hint:!t&&(0,u.localize)("Minimum of eight lower and uppercase English letters with numbers"),name:"password",value:d.password,onBlur:o,onChange:function(e){n("password",!0),r(e)}})}))),e.is_real_financial_stp&&!e.is_bvi&&i.createElement("div",{className:"dc-modal__container_mt5-password-modal__description"},i.createElement(u.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (FX) Ltd. All trading in this account is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA)."})),e.is_real_financial_stp&&e.is_bvi&&i.createElement("div",{className:"dc-modal__container_mt5-password-modal__description"},i.createElement(u.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (BVI) Ltd. All trading in this account is subject to the regulations and guidelines of the British Virgin Islands Financial Services Commission (BVIFSC). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the British Virgin Islands Financial Services Commission (BVIFSC)."})))),i.createElement(s.FormSubmitButton,{is_disabled:!d.password||Object.keys(c).length>0,has_cancel:!0,cancel_label:e.server?(0,u.localize)("Back"):(0,u.localize)("Cancel"),onCancel:e.onBack,is_absolute:(0,l.isMobile)(),is_loading:_,label:(0,u.localize)("Add account"),form_error:e.form_error}))}))},S=function(e){var t,a,r=E({},e),o=i.useMemo((function(){return function(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.trading_servers).map((function(e){return b(b({},e),{label:"".concat(e.geolocation.region," ").concat(1===e.geolocation.sequence?"":e.geolocation.sequence," ").concat(e.disabled?"(".concat(e.message_to_client,")"):""),value:e.id,disabled:e.disabled})})).sort((function(e,t){return e.recommended?e:t})).sort((function(e,t){return e.disabled-t.disabled}))}),[r.trading_servers]);return i.createElement(n.J9,{initialValues:{server:null!==(t=null===(a=r.trading_servers.find((function(e){return!e.disabled})))||void 0===a?void 0:a.id)&&void 0!==t?t:""},validate:r.validateServer,onSubmit:function(e){return r.submitMt5Server(e.server)}},(function(e){var t,a=e.handleSubmit,n=e.setFieldValue,c=e.errors,d=e.values,m=e.isSubmitting;return i.createElement("form",{onSubmit:a},i.createElement("div",{className:"mt5-password-modal__content"},i.createElement("h2",null,i.createElement(u.Localize,{i18n_default_text:"Choose a server for your DMT5 {{ account_type }} account",values:{account_type:r.account_title}})),i.createElement("div",{className:"dc-modal__container_mt5-password-modal__body"},i.createElement("div",{className:"input-element"},i.createElement(s.RadioGroup,{className:"mt5-password-modal__radio",name:"server",required:!0,selected:null===(t=r.trading_servers.find((function(e){return!e.disabled})))||void 0===t?void 0:t.id,onToggle:function(e){e.persist(),n("server",e.target.value)}},o.map((function(e){return i.createElement(s.RadioGroup.Item,{key:e.value,label:e.label,value:e.value,disabled:e.disabled})})))))),i.createElement(s.FormSubmitButton,{is_disabled:m||!d.server||Object.keys(c).length>0,has_cancel:!0,cancel_label:(0,u.localize)("Cancel"),onCancel:r.closeModal,is_absolute:(0,l.isMobile)(),is_loading:m,label:(0,u.localize)("Next"),form_error:r.form_error}))}))},M=function(e){var t=e.account_title,a=e.account_type,n=e.disableMt5PasswordModal,r=e.email,o=e.landing_companies,c=e.is_eu,d=e.is_eu_country,m=e.is_logged_in,_=e.form_error,f=e.history,h=e.has_mt5_error,b=e.is_mt5_password_modal_enabled,y=e.is_mt5_success_dialog_enabled,v=e.setMt5SuccessDialog,w=e.setMt5Error,E=e.submitMt5Password,M=e.trading_servers,N=e.mt5_login_list,O=e.mt5_new_account,j=g(i.useState(""),2),P=j[0],k=j[1],A=i.useMemo((function(){var e,t;return"bvi"===(null==o||null===(e=o.mt_financial_company)||void 0===e||null===(t=e.financial_stp)||void 0===t?void 0:t.shortcode)}),[o]),T=function(e){var t={};return(0,l.validLength)(e.password,{min:8,max:25})?(0,l.validPassword)(e.password)||(t.password=(0,l.getErrorMessages)().password()):t.password=(0,u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.password.toLowerCase()===r.toLowerCase()&&(t.password=(0,u.localize)("Your password cannot be the same as your email address.")),t},C=function(){v(!1),w(!1),k("")},D=function(){C(),n()},I=function(){P?k(""):D()},L=b&&!h&&!y,F=!h&&y,R="real_financial_stp"===[a.category,a.type].join("_"),B="real_synthetic"===[a.category,a.type].join("_"),W=i.useMemo((function(){return(m?!c:!d)&&B&&N.some((function(e){return"real"===e.account_type&&"gaming"===e.market_type}))&&!P}),[c,d,m,B,P,N]);return i.useEffect((function(){(h||y)&&k("")}),[h,y]),i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{className:"mt5-password-modal",is_open:L,toggleModal:D,has_close_icon:!0},W?i.createElement(S,{trading_servers:M,mt5_login_list:N,account_title:t,closeModal:D,submitMt5Server:k}):i.createElement(x,{is_bvi:A,account_title:t,closeModal:D,form_error:_,server:P,onBack:I,submitMt5Form:function(e,t){return E(e,t)},is_real_financial_stp:R,validatePassword:T,should_show_server_form:W}))),i.createElement(s.MobileWrapper,null,i.createElement(s.MobileDialog,{has_full_height:!0,portal_element_id:"modal_root",visible:L,onClose:D,wrapper_classname:"mt5-password-modal"},W?i.createElement(S,{trading_servers:M,mt5_login_list:N,account_title:t,closeModal:D,submitMt5Server:k}):i.createElement(x,{is_bvi:A,account_title:t,closeModal:D,form_error:_,server:P,onBack:I,submitMt5Form:function(e,t){return E(e,t)},is_real_financial_stp:R,validatePassword:T,should_show_server_form:W}))),i.createElement(p,{is_open:F,toggleModal:D,onCancel:D,onSubmit:function(){n(),C(),"real"===a.category&&(sessionStorage.setItem("mt5_transfer_to_login_id",O.login),f.push(l.routes.cashier_acc_transfer))},classNameMessage:"mt5-password-modal__message",message:z(t,a.category),icon:i.createElement((function(){return function(e){switch(e){case"synthetic":return i.createElement(s.Icon,{icon:"IcMt5SyntheticPlatform",size:128});case"financial":return i.createElement(s.Icon,{icon:"IcMt5FinancialPlatform",size:128});default:return i.createElement(s.Icon,{icon:"IcMt5FinancialStpPlatform",size:128})}}(a.type)}),null),icon_size:"xlarge",text_submit:"real"===a.category?(0,u.localize)("Transfer now"):(0,u.localize)("OK"),has_cancel:"real"===a.category}))};M.propTypes={account_title:o().string,account_type:o().object,disableMt5PasswordModal:o().func,email:o().string,error_message:o().string,has_mt5_error:o().bool,is_eu:o().bool,is_eu_country:o().bool,is_logged_in:o().bool,is_mt5_password_modal_enabled:o().bool,is_mt5_success_dialog_enabled:o().bool,setMt5Error:o().func,setMt5SuccessDialog:o().func,submitMt5Password:o().func};const N=(0,f.$j)((function(e){var t=e.client,a=e.modules;return{email:t.email,account_title:a.mt5.account_title,account_type:a.mt5.account_type,disableMt5PasswordModal:a.mt5.disableMt5PasswordModal,error_message:a.mt5.error_message,has_mt5_error:a.mt5.has_mt5_error,landing_companies:t.landing_companies,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_logged_in:t.is_logged_in,is_mt5_success_dialog_enabled:a.mt5.is_mt5_success_dialog_enabled,is_mt5_password_modal_enabled:a.mt5.is_mt5_password_modal_enabled,setMt5Error:a.mt5.setError,setMt5SuccessDialog:a.mt5.setMt5SuccessDialog,submitMt5Password:a.mt5.submitMt5Password,mt5_new_account:a.mt5.new_account_response,trading_servers:t.trading_servers,mt5_login_list:t.mt5_login_list}}))((0,c.withRouter)(M));var O=function(e){var t=e.clearMt5Error,a=e.disableApp,n=e.enableApp,r=e.error_message,o=e.has_mt5_error,c=e.is_mt5_success_dialog_enabled,l=o&&!c;return i.createElement(s.Dialog,{title:(0,u.localize)("Something’s not right"),confirm_button_text:(0,u.localize)("OK"),onConfirm:t,disableApp:a,enableApp:n,is_visible:l},r||i.createElement(u.Localize,{i18n_default_text:"Sorry, an error occured while processing your request."}))};O.propTypes={clearMt5Error:o().func,disableApp:o().func,enableApp:o().func,error_message:o().string,has_mt5_error:o().bool,is_mt5_success_dialog_enabled:o().bool};const j=(0,f.$j)((function(e){var t=e.ui,a=e.modules;return{clearMt5Error:a.mt5.clearMt5Error,disableApp:t.disableApp,enableApp:t.enableApp,error_message:a.mt5.error_message,has_mt5_error:a.mt5.has_mt5_error,is_mt5_success_dialog_enabled:a.mt5.is_mt5_success_dialog_enabled}}))(O);var P=a("./templates/_common/components/loading.jsx");const k=function(){return i.createElement("div",{className:"mt5-real-accounts-display"},i.createElement(P.Z,null))};var A=function(e){var t=e.onClickSignup;return i.createElement("div",{className:"mt5-dashboard__missing-real"},i.createElement("h1",{className:"mt5-dashboard__missing-real--heading"},i.createElement(u.Localize,{i18n_default_text:"You need a real account (fiat currency or cryptocurrency) in Deriv to create a real DMT5 account."})),i.createElement(s.Button,{className:"mt5-dashboard__missing-real--button",onClick:t,type:"button",primary:!0},i.createElement("span",{className:"btn__text"},i.createElement(u.Localize,{i18n_default_text:"Create a Deriv account"}))))};A.propTypes={onClickSignup:o().func};const T=A;var C=a("./Services/ws-methods.js"),D=a("@deriv/account/dist/js/file-uploader-container"),I=a.n(D),L=a("@deriv/account/dist/js/form-sub-header"),F=a.n(L),R=a("@deriv/account/dist/js/poa-expired"),B=a.n(R),W=a("@deriv/account/dist/js/poa-needs-review"),U=a.n(W),q=a("@deriv/account/dist/js/poa-verified"),V=a.n(q),$=a("@deriv/account/dist/js/poa-unverified"),H=a.n($),Y=a("@deriv/account/dist/js/poa-submitted"),K=a.n(Y),X=a("@deriv/account/dist/js/poa-status-codes"),G=a.n(X);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ne=function(e){var t=e.maxLength,a=e.name,r=e.optional,o=void 0!==r&&r,c=ae(e,["maxLength","name","optional"]);return i.createElement(n.gN,{name:a},(function(e){var n=e.field,r=e.form,l=r.errors,u=r.touched;return i.createElement(s.Input,te({type:"text",required:!o,name:a,autoComplete:"off",maxLength:t||"30",error:u[n.name]&&l[n.name]},n,c))}))},re=function(e){var t,a,r=e.onSave,o=e.is_fully_authenticated,c=e.is_loading,d=e.landing_company,m=e.residence_list,_=e.onCancel,p=e.onSubmit,f=e.value,g=e.index,h=e.form_error,b=[{text:(0,u.localize)("Hedging"),value:"Hedging"},{text:(0,u.localize)("Income Earning"),value:"Income Earning"},{text:(0,u.localize)("Speculative"),value:"Speculative"},{text:(0,u.localize)("Peer-to-peer exchange"),value:"Peer-to-peer exchange"}],y=null!==(t=null==d||null===(a=d.config)||void 0===a?void 0:a.tax_details_required)&&void 0!==t&&t,v=function(e){r(g,e),_()};return 0===m.length||c?i.createElement(s.Loading,{is_fullscreen:!1}):i.createElement(n.J9,{initialValues:{citizen:f.citizen,tax_residence:f.tax_residence,tax_identification_number:f.tax_identification_number,account_opening_reason:f.account_opening_reason},validateOnMount:!0,validateOnChange:!0,validateOnBlur:!0,validate:function(e){return function(e){var t,a=e.values,n=e.residence_list,r=e.account_opening_reason,o=e.is_tin_required,c=Q(n.filter((function(e){return e.text===a.tax_residence&&e.tin_format})),1)[0],s=Q(null!==(t=null==c?void 0:c.tin_format)&&void 0!==t?t:[],1)[0],l=s||"^[A-Za-z0-9./s-]{0,25}$",d={citizen:[function(e){return!!e},function(e){return n.map((function(e){return e.text})).includes(e)}],tax_residence:[function(e){return!!e},function(e){return n.map((function(e){return e.text})).includes(e)}],tax_identification_number:[function(e){return!(!a.tax_residence&&o||s)||!!e},function(e){return!l||e.match(l)}],account_opening_reason:[function(e){return!!e},function(e){return r.map((function(e){return e.value})).includes(e)}]},m={citizen:(0,u.localize)("Citizenship"),tax_residence:(0,u.localize)("Tax residence"),tax_identification_number:(0,u.localize)("Tax identification number"),account_opening_reason:(0,u.localize)("Account opening reason")},_={};return Object.entries(d).forEach((function(e){var t,n=Q(e,2),r=n[0],o=n[1].findIndex((function(e){return!e(a[r])}));-1!==o&&(_[r]=i.createElement(i.Fragment,null,(t=m[r],[(0,u.localize)("{{field_name}} is required",{field_name:t}),(0,u.localize)("{{field_name}} is not properly formatted.",{field_name:t})])[o]))})),_}({values:e,residence_list:m,account_opening_reason:b,is_tin_required:y})},onSubmit:function(e,t){return function(e,t,a,n,r,o){var i=e.citizen,c=e.tax_residence,s=ae(e,["citizen","tax_residence"]),l=function(e,t,a){var n,r;return a.forEach((function(a){a.text===e&&(n=a),a.text===t&&(r=a)})),{citizen:n,tax_residence:r}}(i,c,o),u=l.citizen,d=l.tax_residence;n(a,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({citizen:void 0!==u?u.value:"",tax_residence:void 0!==d?d.value:""},s),t.setSubmitting,r)}(e,t,g,p,!(0,l.isDeepEqual)(f,e),m)}},(function(e){var t=e.handleSubmit,a=e.isSubmitting,r=e.handleChange,c=e.handleBlur,d=e.errors,_=e.touched,p=e.values,g=e.setFieldValue,y=e.isValid;return i.createElement(s.AutoHeightWrapper,{default_height:200,height_offset:(0,l.isDesktop)()?148:null},(function(e){var w=e.height,E=e.setRef;return i.createElement("form",{className:"mt5-financial-stp-modal__form",ref:E,onSubmit:t,autoComplete:"off"},i.createElement(s.Div100vhContainer,{className:"details-form",max_autoheight_offset:"179px",is_disabled:(0,l.isDesktop)()},i.createElement(s.Text,{as:"p",size:"xxxs",align:"center",className:"details-form__description"},i.createElement(u.Localize,{i18n_default_text:"Any information you provide is confidential and will be used for verification purposes only."})),i.createElement(s.ThemedScrollbars,{height:w,is_bypassed:(0,l.isMobile)()},i.createElement("div",{className:"details-form__elements"},i.createElement(F(),{title:(0,u.localize)("Details")}),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(s.DesktopWrapper,null,i.createElement(n.gN,{name:"citizen"},(function(e){var t=e.field;return i.createElement(s.Autocomplete,te({},t,{id:"real_mt5_citizenship","data-lpignore":"true",autoComplete:"off",type:"text",label:(0,u.localize)("Citizenship"),error:_.citizen&&d.citizen,disabled:f.citizen&&o,list_items:m,onItemSelection:function(e){return g("citizen",e.value?e.text:"",!0)},list_portal_id:"modal_root",required:!0}))}))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,{placeholder:(0,u.localize)("Please select"),label:(0,u.localize)("Citizenship"),value:p.citizen,list_items:m,error:_.citizen&&d.citizen,disabled:f.citizen&&o,use_text:!0,onChange:function(e){return g("citizen",e.target.value,!0)},required:!0,should_hide_disabled_options:!1}))),i.createElement(F(),{title:(0,u.localize)("Tax information")}),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(s.DesktopWrapper,null,i.createElement(n.gN,{name:"tax_residence"},(function(e){var t=e.field;return i.createElement(s.Autocomplete,te({id:"real_mt5_tax_residence","data-lpignore":"true",type:"text",autoComplete:"off",label:(0,u.localize)("Tax residence"),error:_.tax_residence&&d.tax_residence,disabled:f.tax_residence&&o,list_items:m,onItemSelection:function(e){var t=e.value,a=e.text;return g("tax_residence",t?a:"",!0)},list_portal_id:"modal_root"},t))}))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,{placeholder:(0,u.localize)("Please select"),label:(0,u.localize)("Tax residence"),value:p.tax_residence,error:_.tax_residence&&d.tax_residence,disabled:f.tax_residence&&o,list_items:m,use_text:!0,onChange:function(e){return g("tax_residence",e.target.value,!0)},required:!0}))),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(ne,{id:"real_mt5_tax_identification_number",name:"tax_identification_number",label:(0,u.localize)("Tax identification number"),placeholder:(0,u.localize)("Tax identification number"),value:p.tax_identification_number,onBlur:c,optional:!0})),i.createElement(F(),{title:(0,u.localize)("Account opening reason")}),i.createElement(n.gN,{name:"account_opening_reason"},(function(e){var t=e.field;return i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.Dropdown,te({placeholder:(0,u.localize)("Account opening reason"),is_align_text_left:!0,name:t.name,list:b,value:p.account_opening_reason,onChange:r,handleBlur:c,error:_.account_opening_reason&&d.account_opening_reason,list_portal_id:"modal_root"},t))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,te({placeholder:(0,u.localize)("Please select"),name:t.name,label:(0,u.localize)("Account opening reason"),list_items:b,value:p.account_opening_reason,error:_.account_opening_reason&&d.account_opening_reason,onChange:function(e){r(e),g("account_opening_reason",e.target.value,!0)}},t))))}))))),i.createElement(s.Modal.Footer,{is_bypassed:(0,l.isMobile)()},h&&i.createElement(s.FormSubmitErrorMessage,{message:h}),i.createElement(s.FormSubmitButton,{cancel_label:(0,u.localize)("Previous"),is_disabled:a||!y,is_absolute:(0,l.isMobile)(),label:(0,u.localize)("Next"),onCancel:function(){return v(p)}})))}))}))};re.propTypes={is_fully_authenticated:o().bool,is_loading:o().bool,onCancel:o().func,onSave:o().func,onSubmit:o().func,residence_list:o().array,value:o().object,landing_company:o().object.isRequired};const oe=re;function ie(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?de(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var _e,pe=function(e){var t=e.onSave,a=e.onCancel,r=e.index,o=e.onSubmit,c=e.refreshNotifications,d=me(e,["onSave","onCancel","index","onSubmit","refreshNotifications"]),m=i.useRef(),_=ue(i.useState(!0),2),p=_[0],f=_[1],g=ue((0,s.useStateCallback)({poa_status:"none",resubmit_poa:!1,has_poi:!1,form_error:""}),2),h=g[0],b=g[1],y=ue((0,s.useStateCallback)({files:[],error_message:null}),2),v=y[0],w=y[1],E=ue(i.useState({}),2),z=E[0],x=E[1],S=function(e){t(r,e),a()},M=function(){var e,a=(e=regeneratorRuntime.mark((function e(a,n){var i,c,s,l,d,m,_,p,f,g,y,w,E,M,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.document_file,i=me(a,["document_file"]),n.setSubmitting(!0),e.next=4,C.WS.setSettings(i);case 4:if(!(c=e.sent).error){e.next=9;break}return b(se(se({},h),{form_error:c.error.message})),n.setSubmitting(!1),e.abrupt("return");case 9:return e.next=11,C.WS.authorized.storage.getSettings();case 11:if(s=e.sent,l=s.error,d=s.get_settings,!l){e.next=17;break}return b(se(se({},h),{form_error:l.message})),e.abrupt("return");case 17:return m=d.address_line_1,_=d.address_line_2,p=d.address_city,f=d.address_state,g=d.address_postcode,x({address_line_1:m,address_line_2:_,address_city:p,address_postcode:g,address_state:f}),b(se(se({},h),{form_error:""})),e.prev=20,e.next=23,_e.current.upload();case 23:if(!(y=e.sent).warning){e.next=28;break}return b(se(se({},h),{form_error:y.warning})),n.setSubmitting(!1),e.abrupt("return");case 28:return e.next=30,C.WS.authorized.storage.getAccountStatus();case 30:if(w=e.sent,E=w.error,M=w.get_account_status,!E){e.next=37;break}return b(se(se({},h),{form_error:l.message})),n.setSubmitting(!1),e.abrupt("return");case 37:(N=M.authentication.identity)&&"none"===N.status?(b(se(se({},h),{form_error:(0,u.localize)("Identity confirmation failed. You will be redirected to the previous step.")})),setTimeout((function(){S(d)}),3e3)):(void 0,void 0,O=v.files,j=v.error_message,o(r,se(se(se({},z),h),{document_file:O,file_error_message:j}))),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(20),b(se(se({},h),{form_error:e.t0.message}));case 45:n.setSubmitting(!1),t(r,a),o(r,a,n.setSubmitting);case 48:case"end":return e.stop()}var O,j}),e,null,[[20,42]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){ie(o,n,r,i,c,"next",e)}function c(e){ie(o,n,r,i,c,"throw",e)}i(void 0)}))});return function(e,t){return a.apply(this,arguments)}}();i.useEffect((function(){C.WS.authorized.getAccountStatus().then((function(e){C.WS.wait("states_list").then((function(){var t=e.get_account_status.authentication,a=t.document,n=t.identity,r=!(!n||"none"!==n.status);b(se(se({},h),{poa_status:a.status,has_poi:r}),(function(){f(!1),c()}))}))}))}),[c,b]);var N=function(e,t){return h.poa_status!==G().verified&&0!==Object.keys(t).length},O=function(){b(se(se({},h),{resubmit_poa:!0}))},j=d.states_list,P=d.value,k=P.address_line_1,A=P.address_line_2,T=P.address_city,D=P.address_state,L=P.address_postcode,R=h.form_error,W=h.has_poi,q=h.poa_status,$=h.resubmit_poa,Y=h.submitted_poa,X=!p&&($||q===G().none);return i.createElement(n.J9,{initialValues:{address_line_1:k,address_line_2:A,address_city:T,address_state:D,address_postcode:L,document_file:v.files},validateOnMount:!0,validate:function(e){if([G().verified,G().pending].includes(h.poa_status))return{};var t={address_line_1:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,l.validAddress)(e)},function(e){return(0,l.validLength)(e,{max:70})}],address_line_2:[function(e){return!e||(0,l.validAddress)(e)},function(e){return(0,l.validLength)(e,{max:70})}],address_city:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,l.validLength)(e,{min:1,max:35})},function(e){return(0,l.validLetterSymbol)(e)}],address_state:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return!e||(0,l.validLength)(e,{min:1,max:35})}],address_postcode:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,l.validLength)(e,{min:1,max:20})},function(e){return(0,l.validPostCode)(e)}]},a={address_line_1:[(0,u.localize)("First line of address is required"),(0,u.localize)("First line of address is not in a proper format."),(0,u.localize)("This should not exceed {{max}} characters.",{max:70})],address_line_2:[(0,u.localize)("Second line of address is not in a proper format."),(0,u.localize)("This should not exceed {{max}} characters.",{max:70})],address_city:[(0,u.localize)("Town/City is required."),(0,u.localize)("This should not exceed {{max_number}} characters.",{max_number:35}),(0,u.localize)("Town/City is not in a proper format.")],address_state:[(0,u.localize)("State/Province is required."),(0,u.localize)("State/Province is not in a proper format.")],address_postcode:[(0,u.localize)("Postal/ZIP code is required"),(0,u.localize)("This should not exceed {{max_number}} characters.",{max_number:20}),(0,u.localize)("Only letters, numbers, space, and hyphen are allowed.")]},n={};return Object.entries(t).forEach((function(t){var r=ue(t,2),o=r[0],i=r[1].findIndex((function(t){return!t(e[o])}));-1!==i&&(n[o]=a[o][i])})),n},enableReinitialize:!0,onSubmit:M,innerRef:m},(function(e){e.dirty;var a=e.errors,o=e.handleSubmit,c=e.isSubmitting,d=e.handleBlur,m=e.handleChange,_=e.setFieldTouched,f=e.setFieldValue,g=e.values,h=e.touched;return i.createElement(s.AutoHeightWrapper,{default_height:200},(function(e){var b=e.setRef,y=e.height;return i.createElement("form",{ref:b,onSubmit:o,className:"mt5-proof-of-address"},i.createElement(s.Div100vhContainer,{className:"details-form",height_offset:"100px",is_disabled:(0,l.isDesktop)()},p&&i.createElement(s.Loading,{is_fullscreen:!1}),X&&i.createElement(s.ThemedScrollbars,{autohide:!1,height:"".concat(y-77,"px"),is_bypassed:(0,l.isMobile)()},i.createElement("div",{className:"mt5-proof-of-address__field-area"},i.createElement(F(),{subtitle:(0,u.localize)("(All fields are required)"),title:(0,u.localize)("Address information")}),i.createElement(ne,{name:"address_line_1",maxLength:255,required:!0,label:(0,u.localize)("First line of address*"),placeholder:(0,u.localize)("First line of address*"),onBlur:d}),i.createElement(ne,{name:"address_line_2",maxLength:255,label:(0,u.localize)("Second line of address (optional)"),optional:!0,placeholder:(0,u.localize)("Second line of address"),onBlur:d}),i.createElement("div",{className:"mt5-proof-of-address__inline-fields"},i.createElement(ne,{maxLength:255,name:"address_city",required:!0,label:(0,u.localize)("Town/City*"),placeholder:(0,u.localize)("Town/City*"),onBlur:d}),i.createElement("fieldset",{className:"address-state__fieldset"},(null==j?void 0:j.length)>0?i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(n.gN,{name:"address_state"},(function(e){var t=e.field;return i.createElement(s.Dropdown,{id:"address_state",required:!0,className:"address_state-dropdown",is_align_text_left:!0,list:j,error:h[t.name]&&a[t.name],name:"address_state",value:g.address_state,onChange:m,placeholder:(0,u.localize)("State/Province*"),list_portal_id:"modal_root"})}))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,{label:(0,u.localize)("State/Province*"),value:g.address_state,list_items:j,error:h.address_state&&a.address_state,onChange:function(e){m(e),f("address_state",e.target.value,!0)},required:!0}))):i.createElement(ne,{name:"address_state",label:(0,u.localize)("State/Province*"),placeholder:(0,u.localize)("State/Province*"),value:g.address_state,required:!0,onBlur:d})),i.createElement(ne,{maxLength:255,name:"address_postcode",label:(0,u.localize)("Postal/ZIP code*"),placeholder:(0,u.localize)("Postal/ZIP code*"),onBlur:d,required:!0})),i.createElement("div",{className:"mt5-proof-of-address__file-upload"},i.createElement(I(),{onRef:function(e){return _e=e},getSocket:C.WS.getSocket,onFileDrop:function(e){return function(e,a,n,o,i){n("document_file",!0),o("document_file",e),w({files:e,error_message:a},(function(){"function"==typeof t&&t(r,se(se({},i),{document_file:e}))}))}(e.files,e.error_message,_,f,g)}})))),q!==G().none&&!$&&i.createElement(s.ThemedScrollbars,{height:y,is_bypassed:(0,l.isMobile)()},Y&&i.createElement(K(),{is_description_enabled:!1,has_poi:W}),q===G().pending&&i.createElement(U(),{is_description_enabled:!1}),q===G().verified&&i.createElement(V(),{is_description_enabled:!1,has_poi:W}),q===G().expired&&i.createElement(B(),{onClick:O}),(q===G().rejected||q===G().suspected)&&i.createElement(H(),null)),i.createElement(s.Modal.Footer,{is_bypassed:(0,l.isMobile)()},(q===G().verified||X)&&i.createElement(s.FormSubmitButton,{has_cancel:!0,cancel_label:(0,u.localize)("Previous"),is_disabled:N(0,a)||!(q===G().verified)&&v.files&&v.files.length<1||!!v.error_message,label:q===G().verified?(0,u.localize)("Submit"):(0,u.localize)("Next"),is_absolute:(0,l.isMobile)(),is_loading:c,form_error:R,onCancel:function(){return S(g)}}))))}))}))};pe.propTypes={onCancel:o().func,onSave:o().func,onSubmit:o().func,storeProofOfAddress:o().func,value:o().object};const fe=pe;var ge=a("@deriv/account/dist/js/proof-of-identity-container"),he=a.n(ge);function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ve=function(e){var t=e.authentication_status,a=e.form_error,r=e.index,o=e.onCancel,c=e.onSubmit,d=e.value,m=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["authentication_status","form_error","index","onCancel","onSubmit","value"]),_=t.identity_status,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.useState("none"),2),f=p[0],g=p[1],h=i.useCallback((function(){var e={};return["pending","verified"].includes(f)||["pending","verified"].includes(_)||(e.poi_state=!0),e}),[f,_]),b=!(["pending","verified"].includes(f)||["pending","verified"].includes(_));return i.createElement(n.J9,{initialValues:{poi_state:d.poi_state},validate:h,onSubmit:function(e,t){return c(r,{poi_state:f},t.setSubmitting)}},(function(e){var t=e.handleSubmit;return i.createElement(s.AutoHeightWrapper,{default_height:200},(function(e){var n=e.setRef,r=e.height;return i.createElement("form",{ref:n,className:"mt5-proof-of-identity",onSubmit:t},i.createElement("div",{className:"details-form"},i.createElement("input",{type:"hidden",name:"poi_state",value:f,readOnly:!0}),i.createElement(s.Div100vhContainer,{className:"mt5-proof-of-identity__fields",height_offset:"180px",is_disabled:(0,l.isDesktop)()},i.createElement(he(),be({},m,{serviceToken:C.WS.serviceToken,notificationEvent:C.WS.notificationEvent,getAccountStatus:C.WS.authorized.getAccountStatus,height:r,onStateChange:function(e){var t=e.status,a=["pending","verified"].includes(_)?_:t;g(a)},is_trading_button_enabled:!1,is_description_enabled:!1,is_message_enabled:!1}))),i.createElement(s.Modal.Footer,{is_bypassed:(0,l.isMobile)()},i.createElement(s.FormSubmitButton,{has_cancel:!0,cancel_label:(0,u.localize)("Previous"),is_disabled:b,is_absolute:(0,l.isMobile)(),label:(0,u.localize)("Next"),onCancel:o,form_error:a}))))}))}))};ve.propTypes={authentication_status:o().object,form_error:o().string,index:o().number,onCancel:o().func,onSave:o().func,onSubmit:o().func,refreshNotifications:o().func,addNotificationByKey:o().func,removeNotificationMessage:o().func,value:o().object};const we=ve;function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Se(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function Me(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){Se(o,n,r,i,c,"next",e)}function c(e){Se(o,n,r,i,c,"throw",e)}i(void 0)}))}}function Ne(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(r,e);var t,a,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Pe(e);if(t){var r=Pe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return je(this,a)}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).clearError=function(){t.setState({form_error:""})},t.nextStep=function(){t.clearError(),t.has_more_steps?t.goNext():t.finishWizard()},t.finishWizard=function(){t.props.openPendingDialog(),t.props.toggleModal()},t.prevStep=function(){t.setState({step:t.state.step-1,form_error:""})},t.updateValue=function(){var e=Me(regeneratorRuntime.mark((function e(a,n,r){var o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>3&&void 0!==i[3]&&!i[3]||0!==a){e.next=10;break}return e.next=4,C.WS.setSettings(n);case 4:if(!(o=e.sent).error){e.next=9;break}return t.setState({form_error:o.error.message}),r(!1),e.abrupt("return");case 9:t.initiatePersonalDetails(r);case 10:if(0!==a){e.next=13;break}return e.next=13,C.WS.triggerMt5DryRun({email:t.props.client_email});case 13:t.saveFormData(a,n),t.nextStep(r);case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),t.initiatePersonalDetails=function(){var e=Me(regeneratorRuntime.mark((function e(a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.WS.authorized.storage.getSettings();case 2:if(!(n=e.sent).error){e.next=7;break}return t.setState({form_error:n.error.message}),"function"==typeof a&&a(!1),e.abrupt("return");case 7:r=Object.assign([],t.state.items),n.get_settings.citizen&&(r[0].form_value.citizen=t.transform(n.get_settings.citizen)),n.get_settings.tax_residence&&(r[0].form_value.tax_residence=t.transform(n.get_settings.tax_residence)),n.get_settings.tax_identification_number&&(r[0].form_value.tax_identification_number=n.get_settings.tax_identification_number),n.get_settings.account_opening_reason&&(r[0].form_value.account_opening_reason=n.get_settings.account_opening_reason),t.setState({items:r},t.props.refreshNotifications);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.transform=function(e){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?xe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.props.residence_list.filter((function(t){return t.value===e})),1)[0];return(0,l.getPropertyValue)(a,["text"])||e},t.goNext=function(){t.setState({step:t.state.step+1})},t.getCurrent=function(e){return e?t.state.items[t.state_index][e]:t.state.items[t.state_index]},t.saveFormData=function(e,a){var n=Object.assign([],t.state.items);n[e].form_value=a,0===t.state_index&&(n[0].form_value.citizen=t.transform(a.citizen),n[0].form_value.tax_residence=t.transform(a.tax_residence)),t.setState({items:n})},t.state={finished:void 0,step:0,form_error:"",is_loading:!1,items:[{header:{active_title:(0,u.localize)("Complete your personal details"),title:(0,u.localize)("Personal details")},body:oe,form_value:{citizen:"",tax_residence:"",tax_identification_number:"",account_opening_reason:""},props:["residence_list","is_fully_authenticated","landing_company"]},{header:{active_title:(0,u.localize)("Complete your proof of identity"),title:(0,u.localize)("Proof of identity")},body:we,form_value:{poi_state:"unknown"},props:["addNotificationByKey","authentication_status","refreshNotifications","removeNotificationMessage","removeNotificationByKey"]},{header:{active_title:(0,u.localize)("Complete your proof of address"),title:(0,u.localize)("Proof of address")},body:fe,form_value:{address_line_1:e.get_settings.address_line_1,address_line_2:e.get_settings.address_line_2,address_city:e.get_settings.address_city,address_state:e.get_settings.address_state,address_postcode:e.get_settings.address_postcode,upload_file:""},props:["states_list","get_settings","storeProofOfAddress","refreshNotifications"]}]},t}return t=r,(a=[{key:"state_index",get:function(){return this.state.step}},{key:"has_more_steps",get:function(){return this.state.step+1<this.state.items.length}},{key:"componentDidMount",value:function(){var e=this;0===this.state_index&&(this.setState({is_loading:!0}),this.initiatePersonalDetails().then((function(){e.setState({is_loading:!1})})))}},{key:"render",value:function(){var e=this,t=this.getCurrent("body"),a=this.getCurrent("form_value"),n=(this.getCurrent("props")||[]).reduce((function(t,a){return Object.assign(t,(n={},r=a,o=e.props[a],r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));var n,r,o}),{}),r=this.getCurrent("height")||"auto";return i.createElement(s.Div100vhContainer,{className:"mt5-financial-stp-modal",id:"real_mt5_financial_stp_account_opening",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},i.createElement("div",{className:"mt5-financial-stp-modal__heading"},this.getCurrent()&&i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.FormProgress,{steps:this.state.items,current_step:this.state.step})),i.createElement(s.MobileWrapper,null,i.createElement("div",{className:"mt5-financial-stp-modal__header-steps"},i.createElement("h4",{className:"mt5-financial-stp-modal__header-steps-title"},i.createElement(u.Localize,{i18n_default_text:"Step {{step}}: {{step_title}} ({{step}} of {{steps}})",values:{step:this.state.step+1,steps:this.state.items.length,step_title:this.state.items[this.state.step].header.title}})),this.state.items[this.state.step].header.active_title&&i.createElement("h4",{className:"mt5-financial-stp-modal__header-steps-subtitle"},this.state.items[this.state.step].header.active_title))))),i.createElement("div",{className:"mt5-financial-stp-modal__body"},i.createElement(t,ze({value:a,index:this.state_index,onSubmit:this.updateValue,height:r,is_loading:this.state.is_loading,onCancel:this.prevStep,onSave:this.saveFormData,form_error:this.state.form_error},n))))}}])&&Ne(t.prototype,a),r}(i.Component);ke.propTypes={openPendingDialog:o().func,toggleModal:o().func};const Ae=(0,f.$j)((function(e){var t=e.client,a=e.modules.mt5,n=e.ui;return{addNotificationByKey:n.addNotificationMessageByKey,authentication_status:t.authentication_status,get_settings:t.account_settings,client_email:t.email,is_fully_authenticated:t.is_fully_authenticated,landing_company:t.landing_company,openPendingDialog:a.openPendingDialog,refreshNotifications:t.refreshNotifications,removeNotificationMessage:n.removeNotificationMessage,removeNotificationByKey:n.removeNotificationByKey,residence_list:t.residence_list,states_list:t.states_list,storeProofOfAddress:a.storeProofOfAddress}}))(ke),Te=(0,f.$j)((function(e){var t=e.ui,a=e.modules;return{disableApp:t.disableApp,disableMt5FinancialStpModal:a.mt5.disableMt5FinancialStpModal,enableApp:t.enableApp,is_mt5_financial_stp_modal_open:a.mt5.is_mt5_financial_stp_modal_open}}))((function(e){var t=e.disableApp,a=e.disableMt5FinancialStpModal,n=e.enableApp,r=e.is_mt5_financial_stp_modal_open;return i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{id:"mt5_financial_stp_signup_modal",className:"mt5-financial-stp-signup-modal",disableApp:t,width:"904px",title:(0,u.localize)("Create a DMT5 real Financial STP account"),enableApp:n,is_open:r,has_close_icon:!0,height:"740px",toggleModal:a},i.createElement(Ae,{toggleModal:a}))),i.createElement(s.MobileWrapper,null,i.createElement(s.MobileDialog,{portal_element_id:"modal_root",title:(0,u.localize)("Create a DMT5 real Financial STP account"),wrapper_classname:"mt5-financial-stp-signup-modal",visible:r,onClose:a},i.createElement(Ae,{toggleModal:a}))))}));function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Ie(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ie(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Re=[{attribute:(0,u.localize)("Account currency"),synthetic:(0,u.localize)("USD"),synthetic_eu:(0,u.localize)("EUR"),financial:(0,u.localize)("USD"),financial_eu:(0,u.localize)("EUR/GBP"),financial_stp:(0,u.localize)("USD"),footnote:null},{attribute:(0,u.localize)("Maximum leverage"),synthetic:(0,u.localize)("Up to 1:1000"),synthetic_eu:(0,u.localize)("Up to 1:1000"),financial:(0,u.localize)("Up to 1:1000"),financial_eu:(0,u.localize)("Up to 1:30"),financial_stp:(0,u.localize)("Up to 1:100"),footnote:(0,u.localize)("Leverage gives you the ability to trade a larger position using your existing capital. Leverage varies across different symbols.")},{attribute:(0,u.localize)("Order execution"),synthetic:(0,u.localize)("Market"),synthetic_eu:(0,u.localize)("Market"),financial:(0,u.localize)("Market"),financial_eu:(0,u.localize)("Market"),financial_stp:(0,u.localize)("Market"),footnote:(0,u.localize)("All 3 account types use market execution. This means you agree with the broker's price in advance and will place orders at the broker's price.")},{attribute:(0,u.localize)("Spread"),synthetic:(0,u.localize)("Fixed/Variable"),synthetic_eu:(0,u.localize)("Fixed/Variable"),financial:(0,u.localize)("Variable"),financial_eu:(0,u.localize)("Variable"),financial_stp:(0,u.localize)("Variable"),footnote:(0,u.localize)("The spread is the difference between the buy price and sell price. A variable spread means that the spread is constantly changing, depending on market conditions. A fixed spread remains constant but is subject to alteration, at the Broker's absolute discretion.")},{attribute:(0,u.localize)("Commission"),synthetic:(0,u.localize)("No"),synthetic_eu:(0,u.localize)("No"),financial:(0,u.localize)("No"),financial_eu:(0,u.localize)("No"),financial_stp:(0,u.localize)("No"),footnote:(0,u.localize)("Deriv charges no commission across all account types.")},{attribute:(0,u.localize)("Minimum deposit"),synthetic:(0,u.localize)("No"),synthetic_eu:(0,u.localize)("No"),financial:(0,u.localize)("No"),financial_eu:(0,u.localize)("No"),financial_stp:(0,u.localize)("No"),footnote:null},{attribute:(0,u.localize)("Margin call"),synthetic:(0,u.localize)("100%"),synthetic_eu:(0,u.localize)("100%"),financial:(0,u.localize)("150%"),financial_eu:(0,u.localize)("100%"),financial_stp:(0,u.localize)("150%"),footnote:(0,u.localize)("When the remaining funds in your account is deemed insufficient to cover the leverage or margin requirements, your account will be placed under margin call. To prevent a margin call escalating to a stop out level, you can deposit  additional funds into your account or close any open positions.")},{attribute:(0,u.localize)("Stop out level"),synthetic:(0,u.localize)("50%"),synthetic_eu:(0,u.localize)("50%"),financial:(0,u.localize)("75%"),financial_eu:(0,u.localize)("50%"),financial_stp:(0,u.localize)("75%"),footnote:(0,u.localize)("When the remaining funds in your account is deemed insufficient to cover the leverage or margin requirements, your account will be placed under margin call. To prevent a margin call escalating to a stop out level, you can deposit  additional funds into your account or close any open positions.")},{attribute:(0,u.localize)("Number of assets"),synthetic:(0,u.localize)("10+"),synthetic_eu:(0,u.localize)("10+"),financial:(0,u.localize)("50+"),financial_eu:(0,u.localize)("50+"),financial_stp:(0,u.localize)("50+"),footnote:null},{attribute:(0,u.localize)("Cryptocurrency trading"),synthetic:(0,u.localize)("N/A"),synthetic_eu:(0,u.localize)("N/A"),financial:(0,u.localize)("24/7"),financial_eu:(0,u.localize)("24/7"),financial_stp:(0,u.localize)("24/7"),footnote:(0,u.localize)("Indicates the availability of cryptocurrency trading on a particular account.")},{attribute:(0,u.localize)("Trading instruments"),synthetic:(0,u.localize)("Synthetics"),synthetic_eu:(0,u.localize)("Synthetics"),financial:(0,u.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies, Stocks & Indices"),financial_eu:(0,u.localize)("FX-majors (standard), FX-minors, Commodities, Cryptocurrencies, Stocks & Indices"),financial_stp:(0,u.localize)("FX-majors, FX-minors, FX-exotics, Cryptocurrencies"),footnote:null}],Be=function(e){var t=e.name,a=e.counter,n=Le(i.useState(!1),2),r=n[0],o=n[1];return a?i.createElement(i.Fragment,null,i.createElement(s.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"mt5-attribute-describer",onClick:function(){return o(!r)}},t,i.createElement(s.Text,{weight:"bold",as:"span",line_height:"x",size:"xxxs",className:"counter"},a))):i.createElement(s.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"mt5-attribute-describer"},t)},We=function(){return i.createElement("div",{className:"mt5-compare-account--hint"},i.createElement("div",{className:"mt5-compare-accounts__bullet-wrapper"},i.createElement("span",{className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--circle"}),i.createElement(u.Localize,{i18n_default_text:"At bank rollover, liquidity in the forex markets is reduced and may increase the spread and processing time for client orders. This happens around 21:00 GMT during daylight saving time, and 22:00 GMT non-daylight saving time."})),i.createElement("div",{className:"mt5-compare-accounts__bullet-wrapper"},i.createElement("span",{className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--circle"}),i.createElement(u.Localize,{i18n_default_text:"Margin call and stop out level will change from time to time based on market condition."})),i.createElement("div",{className:"mt5-compare-accounts__bullet-wrapper"},i.createElement(s.Text,{size:"xs",line_height:"x",weight:"bold",className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--star mt5-compare-accounts__star"},"*"),i.createElement(u.Localize,{i18n_default_text:"To protect your portfolio from adverse market movements due to the market opening gap, we reserve the right to decrease leverage on all offered symbols for financial accounts before market close and increase it again after market open. Please make sure that you have enough funds available in your MT5 account to support your positions at all times."})),Re.filter((function(e){return!!e.footnote})).map((function(e,t){return i.createElement("div",{key:t,className:"mt5-compare-accounts__bullet-wrapper"},i.createElement(s.Text,{size:"xs",line_height:"x",weight:"bold",className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--star mt5-compare-accounts__star"},t+1),i.createElement("div",{className:"mt5-compare-accounts__footnote"},i.createElement(s.Text,{as:"p",size:"xs",weight:"bold",color:"prominent",className:"mt5-compare-accounts__footnote-title"},e.attribute),i.createElement(s.Text,{size:"xs",color:"prominent"},e.footnote)))})))},Ue=function(e){var t,a,n,r=e.is_eu,o=e.landing_companies,c=e.is_eu_country,l=e.is_logged_in,d=Le(i.useState([]),2),m=d[0],_=d[1],p=Le(i.useState("1.5fr 1fr 2fr 1fr"),2),f=p[0],g=p[1];return i.useEffect((function(){var e,t,a;_(function(e){var t=e.landing_companies,a=e.is_eu,n=e.is_eu_country,r=e.is_logged_in;return function(e,t,a,n){var r=0;return t.map((function(t){var o,c,s,l=t.attribute,u=t.synthetic,d=t.synthetic_eu,m=t.financial_stp,_=t.financial,p=t.financial_eu,f=t.footnote,g={synthetic:n?d:u},h={financial:n?p:_};return a?De(De(De({attribute:i.createElement(Be,{name:l,counter:f?++r:null})},null!=e&&null!==(o=e.mt_gaming_company)&&void 0!==o&&o.financial?g:{}),null!=e&&null!==(c=e.mt_financial_company)&&void 0!==c&&c.financial?h:{}),null!=e&&null!==(s=e.mt_financial_company)&&void 0!==s&&s.financial_stp?{financial_stp:m}:{}):De(De(De({attribute:i.createElement(Be,{name:l,counter:f?++r:null})},g),h),{financial_stp:m})}))}(t,Re,r,r&&a||!r&&n)}({landing_companies:o,is_eu:r,is_eu_country:c,is_logged_in:l})),l&&g("1.5fr ".concat(null!=o&&null!==(e=o.mt_gaming_company)&&void 0!==e&&e.financial?"1fr":""," ").concat(null!=o&&null!==(t=o.mt_financial_company)&&void 0!==t&&t.financial?"2fr":""," ").concat(null!=o&&null!==(a=o.mt_financial_company)&&void 0!==a&&a.financial_stp?" 1fr ":""))}),[o.mt_financial_company,o.mt_gaming_company,r,l,c,o]),i.createElement(s.ThemedScrollbars,{className:"mt5-compare-accounts",style:{"--mt5-compare-accounts-template-columns":f}},i.createElement(s.Table,{className:"mt5-compare-accounts__table"},i.createElement(s.Table.Header,null,i.createElement(s.Table.Row,{className:"mt5-compare-accounts__table-row"},i.createElement(s.Table.Head,null),l?i.createElement(i.Fragment,null,(null==o||null===(t=o.mt_gaming_company)||void 0===t?void 0:t.financial)&&i.createElement(s.Table.Head,null,(0,u.localize)("Synthetic")),(null==o||null===(a=o.mt_financial_company)||void 0===a?void 0:a.financial)&&i.createElement(s.Table.Head,null,(0,u.localize)("Financial"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*")),(null==o||null===(n=o.mt_financial_company)||void 0===n?void 0:n.financial_stp)&&i.createElement(s.Table.Head,null,(0,u.localize)("Financial STP"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*"))):i.createElement(i.Fragment,null,i.createElement(s.Table.Head,null,(0,u.localize)("Synthetic")),i.createElement(s.Table.Head,null,(0,u.localize)("Financial"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*")),i.createElement(s.Table.Head,null,(0,u.localize)("Financial STP"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*"))))),i.createElement(s.Table.Body,null,m.map((function(e,t){return i.createElement(s.Table.Row,{key:t,className:"mt5-compare-accounts__table-row"},Object.keys(e).map((function(t,a){return i.createElement(s.Table.Cell,{key:a},e[t])})))})))),i.createElement(We,null))};const qe=(0,f.$j)((function(e){var t=e.modules,a=e.ui,n=e.client;return{disableApp:a.disableApp,enableApp:a.enableApp,is_compare_accounts_visible:t.mt5.is_compare_accounts_visible,is_loading:n.is_populating_mt5_account_list,is_eu:n.is_eu,is_eu_country:n.is_eu_country,is_logged_in:n.is_logged_in,landing_companies:n.landing_companies,toggleCompareAccounts:t.mt5.toggleCompareAccountsModal}}))((function(e){var t=e.disableApp,a=e.enableApp,n=e.is_compare_accounts_visible,r=e.landing_companies,o=e.is_loading,c=e.is_logged_in,l=e.is_eu,d=e.is_eu_country,m=e.toggleCompareAccounts;return i.createElement("div",{className:"mt5-compare-accounts-modal__wrapper"},i.createElement(s.Button,{className:"mt5-dashboard__welcome-message--button",has_effect:!0,text:(0,u.localize)("Compare accounts"),onClick:m,secondary:!0,disabled:o}),i.createElement(i.Suspense,{fallback:i.createElement(s.UILoader,null)},i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{className:"mt5-dashboard__compare-accounts",disableApp:t,enableApp:a,is_open:n,title:(0,u.localize)("Compare accounts"),toggleModal:m,type:"button",height:"696px",width:"903px"},i.createElement(Ue,{is_logged_in:c,is_eu:l,is_eu_country:d,landing_companies:r}))),i.createElement(s.MobileWrapper,null,i.createElement(s.MobileDialog,{portal_element_id:"deriv_app",title:(0,u.localize)("Compare accounts"),wrapper_classname:"mt5-dashboard__compare-accounts",visible:n,onClose:m},i.createElement(Ue,{is_logged_in:c,is_eu:l,is_eu_country:d,landing_companies:r})))))}));var Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;switch(e||(0,l.OSDetect)()){case"windows":return"https://download.mql5.com/cdn/web/deriv.limited/mt5/deriv5setup.exe";case"linux":return"https://www.metatrader5.com/en/terminal/help/start_advanced/install_linux";case"macos":return"https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/MetaTrader5.dmg";case"ios":return"https://download.mql5.com/cdn/mobile/mt5/ios?server=Deriv-Demo,Deriv-Server";case"android":return"https://download.mql5.com/cdn/mobile/mt5/android?server=Deriv-Demo,Deriv-Server";default:return $e({category:"real"})}},$e=function(e){var t=e.category,a=e.loginid,n=e.server_name,r="demo"===t?"Deriv-Demo":void 0===n?"Deriv-Server":n,o=null!=a?a:"";return"https://trade.mql5.com/trade?servers=".concat(r,"&trade_server=").concat(r).concat(o&&"&login=".concat(o))};const He=function(){return i.createElement("div",{className:"mt5-dashboard__download-center"},i.createElement("h1",{className:"mt5-dashboard__download-center--heading"},i.createElement(u.Localize,{i18n_default_text:"Run MT5 from your browser or download the MT5 app for your devices"})),i.createElement("div",{className:"mt5-dashboard__download-center-options"},i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop"},i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-links"},i.createElement("div",null,i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-row"},i.createElement(s.Icon,{icon:"IcMt5DeviceDesktop",width:118,height:85}),i.createElement(s.Icon,{icon:"IcMt5DeviceLaptop",width:75,height:51}))),i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-download"},i.createElement("a",{href:Ve("windows"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationWindows",width:138,height:40})),i.createElement("a",{href:Ve("macos"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationMacos",width:138,height:40})),i.createElement("a",{href:Ve("linux"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationLinux",width:138,height:40})))),i.createElement(s.Text,{as:"p",align:"center",size:"xxxs",className:"mt5-dashboard__download-center--hint"},i.createElement(u.Localize,{i18n_default_text:"The MT5 desktop app is not supported by Windows XP, Windows 2003, and Windows Vista."}))),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile"},i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-devices"},i.createElement(s.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),i.createElement(s.Icon,{icon:"IcMt5DevicePhone",width:48,height:74})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-links"},i.createElement("a",{className:"mt5-dashboard__download-center-options--mobile-link",href:Ve("android"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),i.createElement("a",{className:"mt5-dashboard__download-center-options--mobile-link",href:Ve("ios"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationApple",width:120,height:40}))))))};var Ye=a("./Stores/Modules/MT5/mt5-store.js");function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){Ge(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ge(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Je(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var tt=function(e){var t=e.count_from,a=void 0===t?60:t,n=e.onTimeout,r=Qe(i.useState(a),2),o=r[0],c=r[1];return i.useEffect((function(){if(0!==o){var e=setTimeout((function(){c(o-1)}),1e3);return function(){return clearTimeout(e)}}return n(),function(){}}),[o]),i.createElement("span",{className:"countdown"},o)},at=function(e){var t=e.sendVerifyEmail,a=e.account_type,n=e.account_group,r=e.server,o=e.password_type,c=Qe(i.useState(!1),2),l=c[0],d=c[1],m=Qe(i.useState(!1),2),_=m[0],p=m[1];return i.useEffect((function(){localStorage.setItem("mt5_reset_password_intent",[r,n,a].join(".")),localStorage.setItem("mt5_reset_password_type",o),t()}),[]),i.createElement("div",{className:"mt5-verification-email-sent"},i.createElement(s.Icon,{icon:"IcEmailSent",size:128}),i.createElement("h2",{className:"mt5-verification-email-sent__title"},i.createElement(u.Localize,{i18n_default_text:"We've sent you an email"})),i.createElement(s.Text,{as:"p",size:"xs",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Please click on the link in the email to reset your password."})),!l&&i.createElement(s.Button,{className:"mt5-verification-email-sent__resend-button",primary:!0,onClick:function(){d(!0)}},i.createElement(u.Localize,{i18n_default_text:"Didn't receive the email?"})),l&&i.createElement(i.Fragment,null,i.createElement(s.Text,{as:"p",size:"xs",align:"center",weight:"bold",className:"mt5-verification-email-sent__title--sub"},i.createElement(u.Localize,{i18n_default_text:"Didn't receive the email?"})),i.createElement(s.Text,{as:"p",size:"xs",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Check your spam or junk folder. If it's not there, try resending the email."})),i.createElement(s.Button,{className:"mt5-verification-email-sent__resend-button",large:!0,primary:!0,disabled:_,onClick:function(){t(),p(!0)}},!_&&i.createElement(u.Localize,{i18n_default_text:"Resend email"}),_&&i.createElement(i.Fragment,null,i.createElement(u.Localize,{i18n_default_text:"Resend in <0 /> seconds",components:[i.createElement(tt,{key:0,onTimeout:function(){return p(!1)},count_from:60})]})))))},nt=function(e){var t=e.toggleModal,a=e.is_investor;return i.createElement("div",{className:"mt5-password-manager__success"},i.createElement(s.Icon,{icon:"IcPasswordUpdated",size:128}),i.createElement("h1",{className:"mt5-password-manager__success-header"},i.createElement(u.Localize,{i18n_default_text:"Password changed"})),i.createElement(s.Text,{as:"p",size:"xxs",align:"center"},a?i.createElement(u.Localize,{i18n_default_text:"Your investor password has been changed."}):i.createElement(u.Localize,{i18n_default_text:"Your password has been changed."})),i.createElement(s.Button,{onClick:t,className:"mt5-password-manager__success-btn",primary:!0,large:!0},i.createElement("p",{className:"dc-btn__text"},(0,u.localize)("OK"))))},rt=function(e){var t=e.multi_step_ref,a=e.steps;return i.createElement(s.MultiStep,{ref:t,steps:a,className:"mt5-password-manager",lbl_previous:(0,u.localize)("Back")})},ot=function(e){var t=e.is_submit_success_main,a=e.toggleModal,r=e.onSubmit,o=e.validatePassword,c=e.error_message_main,d=e.setPasswordType,m=e.multi_step_ref;return t?i.createElement(nt,{toggleModal:a}):i.createElement(n.J9,{initialValues:{old_password:"",new_password:"",password_type:"main"},validate:o,onSubmit:r},(function(e){var t=e.isSubmitting,a=e.errors,r=e.setFieldTouched,o=e.values,_=e.touched;return i.createElement(n.l0,{className:"mt5-password-manager__main-form",noValidate:!0},c&&i.createElement("p",{className:"mt5-password-manager--error-message"},c),i.createElement(n.gN,{name:"old_password"},(function(e){var t=e.field;return i.createElement(s.PasswordInput,Ze({},t,{autoComplete:"current-password",label:(0,u.localize)("Current password"),error:_.old_password&&a.old_password,required:!0}))})),i.createElement(n.gN,{name:"new_password"},(function(e){var t=e.field;return i.createElement(s.PasswordMeter,{input:t.value,has_error:!(!_.new_password||!a.new_password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var n=e.has_warning;return i.createElement(s.PasswordInput,Ze({},t,{autoComplete:"new-password",label:(0,u.localize)("New password"),hint:!n&&(0,u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:_.new_password&&a.new_password,onChange:function(e){r("new_password",!0,!0),t.onChange(e)},className:"mt5-password-manager__new-password",required:!0}))}))})),i.createElement("div",{className:"mt5-password-manager__actions"},i.createElement(s.Button,{className:"mt5-password-manager--button",is_disabled:t||!o.old_password||!o.new_password||Object.keys(a).length>0,is_loading:t,text:(0,u.localize)("Change password"),primary:!0,large:!0}),i.createElement(s.Button,{className:"mt5-password-manager--button",type:"button",onClick:function(){var e;d("main"),null===(e=m.current)||void 0===e||e.goNextStep()},text:(0,u.localize)("Reset main password"),tertiary:!0,large:!0})))}))},it=function(e){var t=e.error_message_investor,a=e.is_submit_success_investor,r=e.multi_step_ref,o=e.onSubmit,c=e.setPasswordType,d=e.toggleModal,m=e.validatePassword;return a?i.createElement(nt,{toggleModal:d,is_investor:!0}):i.createElement("div",{className:"mt5-password-manager__investor-wrapper"},i.createElement(s.Text,{as:"p",size:"xs",className:"mt5-password-manager--paragraph"},i.createElement(u.Localize,{i18n_default_text:"Use this password to grant viewing access to another user. While they may view your trading account, they will not be able to trade or take any other actions."})),i.createElement(s.Text,{as:"p",size:"xs",className:"mt5-password-manager--paragraph"},i.createElement(u.Localize,{i18n_default_text:"If this is the first time you try to create a password, or you have forgotten your password, please reset it."})),t&&i.createElement(s.Text,{as:"p",color:"loss-danger",size:"xs",className:"mt5-password-manager--error-message"},t),i.createElement(n.J9,{initialValues:{old_password:"",new_password:"",password_type:"investor"},validate:m,onSubmit:o},(function(e){var t=e.isSubmitting,a=e.errors,o=e.setFieldTouched,d=e.values,m=e.touched;return i.createElement(n.l0,{className:"mt5-password-manager__investor-form",noValidate:!0},i.createElement(n.gN,{name:"old_password"},(function(e){var t=e.field;return i.createElement(s.PasswordInput,Ze({},t,{autoComplete:"current-password",label:(0,u.localize)("Current investor password"),error:m.old_password&&a.old_password,required:!0}))})),i.createElement(n.gN,{name:"new_password"},(function(e){var t=e.field;return i.createElement(s.PasswordMeter,{input:t.value,has_error:!(!m.new_password||!a.new_password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var n=e.has_warning;return i.createElement(s.PasswordInput,Ze({},t,{autoComplete:"new-password",label:(0,u.localize)("New investor password"),hint:!n&&(0,u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:m.new_password&&a.new_password,onChange:function(e){o("new_password",!0,!0),t.onChange(e)},className:"mt5-password-manager__new-password",required:!0}))}))})),i.createElement("div",{className:"mt5-password-manager__actions"},i.createElement(s.Button,{className:"mt5-password-manager--button",is_disabled:t||!d.old_password||!d.new_password||Object.keys(a).length>0,is_loading:t,text:(0,u.localize)("Change investor password"),primary:!0,large:!0}),i.createElement(s.Button,{className:"mt5-password-manager--button",type:"button",onClick:function(){var e;c("investor"),null===(e=r.current)||void 0===e||e.goNextStep()},text:(0,u.localize)("Create or reset investor password"),tertiary:!0,large:!0})))})))},ct=function(e){var t=e.toggleModal,a=e.selected_login,n=e.email,r=e.setPasswordType,o=e.multi_step_ref,c=Qe(i.useState(0),2),d=c[0],m=c[1],_=Qe(i.useState(""),2),p=_[0],f=_[1],g=Qe(i.useState(!1),2),h=g[0],b=g[1],y=Qe(i.useState(""),2),v=y[0],w=y[1],E=Qe(i.useState(!1),2),z=E[0],x=E[1],S="calc(100vh - 84px - 5.6rem - 8.8rem - 4rem)",M=function(e){var t={};return(0,l.validLength)(e.new_password,{min:8,max:25})?(0,l.validPassword)(e.new_password)?e.new_password.toLowerCase()===n.toLowerCase()&&(t.new_password=(0,u.localize)("Your password cannot be the same as your email address.")):t.new_password=(0,l.getErrorMessages)().password():t.new_password=(0,u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.old_password||void 0===e.old_password||(t.old_password=(0,u.localize)("This field is required")),t},N=function(e){"main"===e?(f(""),b(!0)):(w(""),x(!0))},O=i.useCallback(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ye.default.changePassword(Xe({login:a},t));case 4:(n=e.sent)?(r=t.password_type,o=n,"main"===r?f(o):w(o)):N(t.password_type);case 6:case"end":return e.stop()}var r,o}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){Je(o,n,r,i,c,"next",e)}function c(e){Je(o,n,r,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[a]);return i.createElement(i.Fragment,null,i.createElement(s.Tabs,{active_index:d,onTabItemClick:function(e){m(e),f(""),b(!1),w(""),x(!1)},top:!0},i.createElement("div",{label:(0,u.localize)("Main password")},i.createElement(s.DesktopWrapper,null,i.createElement(s.ThemedScrollbars,{height:S,is_bypassed:(0,l.isMobile)(),autohide:!1},i.createElement(ot,{is_submit_success_main:h,toggleModal:t,onSubmit:O,validatePassword:M,error_message_main:p,setPasswordType:r,multi_step_ref:o}))),i.createElement(s.MobileWrapper,null,i.createElement(s.Div100vhContainer,{className:"mt5-password-manager__scroll-wrapper",height_offset:"120px"},i.createElement(ot,{is_submit_success_main:h,toggleModal:t,onSubmit:O,validatePassword:M,error_message_main:p,setPasswordType:r,multi_step_ref:o})))),i.createElement("div",{label:(0,u.localize)("Investor password")},i.createElement(s.DesktopWrapper,null,i.createElement(s.ThemedScrollbars,{height:S},i.createElement(it,{is_submit_success_investor:z,toggleModal:t,error_message_investor:v,validatePassword:M,onSubmit:O,setPasswordType:r,multi_step_ref:o}))),i.createElement(s.MobileWrapper,null,i.createElement(s.Div100vhContainer,{className:"mt5-password-manager__scroll-wrapper",height_offset:"120px"},i.createElement(it,{is_submit_success_investor:z,toggleModal:t,error_message_investor:v,validatePassword:M,onSubmit:O,setPasswordType:r,multi_step_ref:o}))))))},st=function(e){var t=e.enableApp,a=e.email,n=e.disableApp,r=e.is_visible,o=e.selected_login,c=e.selected_account,l=e.toggleModal,d=e.selected_account_type,m=e.selected_account_group,_=e.selected_server,p=e.sendVerifyEmail,f=i.useRef(),g=Qe(i.useState("main"),2),h=g[0],b=g[1];if(!o)return null;var y=[{component:i.createElement(ct,{email:a,selected_login:o,toggleModal:l,password_type:h,setPasswordType:b,multi_step_ref:f})},{component:i.createElement(at,{server:_,sendVerifyEmail:p,account_type:d,account_group:m,password_type:h})}];return i.createElement(i.Suspense,{fallback:i.createElement(s.UILoader,null)},i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{className:"mt5-password-manager__modal",disableApp:n,enableApp:t,is_open:r,title:"real"===m?(0,u.localize)("Manage DMT5 Real {{account_title}} account password",{account_title:c}):(0,u.localize)("Manage DMT5 Demo {{account_title}} account password",{account_title:c}),toggleModal:l,height:"688px",width:"904px"},i.createElement(rt,{steps:y,multi_step_ref:f}))),i.createElement(s.MobileWrapper,null,i.createElement(s.PageOverlay,{is_open:r,portal_id:"deriv_app",header:(0,u.localize)("Manage password"),onClickClose:l},i.createElement(rt,{steps:y,multi_step_ref:f}))))};st.propTypes={email:o().string,is_visible:o().bool,selected_account:o().string,selected_server:o().string,selected_login:o().string,toggleModal:o().func};const lt=(0,f.$j)((function(e){var t=e.modules.mt5,a=e.client,n=e.ui;return{email:a.email,enableApp:n.enableApp,disableApp:n.disableApp,sendVerifyEmail:t.sendVerifyEmail}}))(st);var ut=function(e){var t=e.mt5_companies,a=e.current_account,n=e.closeSuccessTopUpModal,r=e.closeTopUpModal,o=e.is_top_up_virtual_open,c=e.is_top_up_virtual_in_progress,l=e.is_top_up_virtual_success,d=e.topUpVirtual,m=i.useCallback((function(){return t&&a?t[a.category][a.type].title:""}),[t,a]);if(!t||!a)return null;var _="USD",f=1e3,g=1e4;return i.createElement(i.Fragment,null,i.createElement(s.Modal,{toggleModal:r,is_open:o,className:"top-up-virtual",title:(0,u.localize)("Fund top up"),width:"384px"},i.createElement("div",{className:"dc-modal__container_top-up-virtual__body"},i.createElement(s.Text,{as:"p",align:"center",size:"xxs",line_height:"xs",className:"dc-modal__container_top-up-virtual__description"},i.createElement(u.Localize,{i18n_default_text:"You can top up your demo account with an additional <0></0> if your balance is <1></1> or less.",components:[i.createElement(s.Money,{key:0,amount:g,currency:_,show_currency:!0}),i.createElement(s.Money,{key:1,amount:f,currency:_,show_currency:!0})]})),i.createElement("h4",{className:"dc-modal__container_top-up-virtual--h4"},i.createElement(u.Localize,{i18n_default_text:"DMT5 {{ account_title }} account",values:{account_title:m()}})),i.createElement("div",null,i.createElement(s.Text,{as:"p",align:"center",size:"xxs"},i.createElement(u.Localize,{i18n_default_text:"Current balance"})),i.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},i.createElement(s.Money,{amount:a.display_balance,currency:a.currency}))),i.createElement("div",{className:"dc-modal__container_top-up-virtual--button"},i.createElement(s.Button,{is_disabled:a.balance>1e3||c,type:"button",is_loading:c,onClick:d,primary:!0,large:!0},!c&&i.createElement(u.Localize,{i18n_default_text:"Top up  <0></0>",components:[i.createElement(s.Money,{key:0,amount:g,currency:_,show_currency:!0})]}))))),i.createElement(p,{is_open:l,toggleModal:function(){n()},has_close_icon:!0,title:(0,u.localize)("Fund top up"),icon:i.createElement(s.Icon,{icon:"IcCashierWallet",size:128}),heading:i.createElement("h3",{className:"mt5-success-topup__heading"},i.createElement(u.Localize,{i18n_default_text:"<0></0> has been credited into your DMT5 {{title}} account.",values:{title:m()},components:[i.createElement(s.Money,{key:0,amount:g,currency:_,show_currency:!0})]})),message:i.createElement("div",{className:"mt5-success-topup__description"},i.createElement("p",null,i.createElement(u.Localize,{i18n_default_text:"New current balance"})),i.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},i.createElement(s.Money,{amount:a.balance,currency:a.currency}))),icon_size:"large",has_cancel:!1,has_submit:!1,width:"384px"}))};ut.propTypes={account_title:o().string,closeSuccessTopUpModal:o().func,closeTopUpVirtual:o().func,currency:o().string,display_balance:o().string,is_top_up_virtual_open:o().bool,is_top_up_virtual_in_progress:o().bool,is_top_up_virtual_success:o().bool,topUpVirtual:o().func};const dt=(0,f.$j)((function(e){var t=e.ui,a=e.modules;return{is_top_up_virtual_open:t.is_top_up_virtual_open,is_top_up_virtual_in_progress:t.is_top_up_virtual_in_progress,is_top_up_virtual_success:t.is_top_up_virtual_success,closeTopUpModal:t.closeTopUpModal,closeSuccessTopUpModal:t.closeSuccessTopUpModal,current_account:a.mt5.current_account,mt5_companies:a.mt5.mt5_companies,topUpVirtual:a.mt5.topUpVirtual}}))(ut);var mt=a("react-router-dom"),_t=a("./Stores/Modules/MT5/Helpers/mt5-config.js");function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var xt=function(e){var t,a,n,r,o,i=e.current_list,c=e.children,s=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["current_list","children"]),l=localStorage.getItem("mt5_reset_password_intent"),u=localStorage.getItem("mt5_reset_password_type")||"main";if(l&&/(real|demo)\.(financial_stp|financial|synthetic)/.test(l)&&i){var d=Et(l.split("."),3);o=d[0],t=d[1],a=d[2],n=i["".concat(t,".").concat(a,"@").concat(o)].login,r=(0,_t.D)()[t][a].title}else if(i){var m=Et(Object.keys(i).pop().split("."),3);o=m[0],t=m[1],a=m[2],n=i["".concat(t,".").concat(a,"@").concat(o)].login,r=(0,_t.D)()[t][a].title}else n="",r="";return c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(a),!0).forEach((function(t){wt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({login:n,title:r,type:u},s))},St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(o,e);var t,a,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=yt(e);if(t){var r=yt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return bt(this,a)}}(o);function o(){var e;ft(this,o);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=r.call.apply(r,[this].concat(a))).state={has_error:!1,error_message:void 0,is_finished:!1,changed_password_type:""},e.renderErrorBox=function(t){e.setState({has_error:!0,error_message:t.message})},e.clearAddressBar=function(){localStorage.removeItem("mt5_reset_password_intent"),localStorage.removeItem("mt5_reset_password_type"),localStorage.removeItem("mt5_reset_password_code"),e.props.history.push("".concat(l.routes.mt5))},e.validatePassword=function(t){var a={};return(0,l.validLength)(t.new_password,{min:8,max:25})?(0,l.validPassword)(t.new_password)||(a.new_password=(0,l.getErrorMessages)().password()):a.new_password=(0,u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),t.new_password.toLowerCase()===e.props.email.toLowerCase()&&(a.new_password=(0,u.localize)("Your password cannot be the same as your email address.")),a},e.resetPassword=function(t,a,n,r){var o=r.setSubmitting;o(!0);var i={login:n,password_type:a,new_password:t.new_password,verification_code:localStorage.getItem("mt5_reset_password_code")};C.WS.mt5PasswordReset(i).then((function(t){t.error&&"InvalidToken"===t.error.code?e.renderErrorBox(t.error):(e.setState({is_finished:!0,changed_password_type:a}),e.clearAddressBar()),o(!1)}))},e}return t=o,(a=[{key:"is_list_fetched",get:function(){return 0!==Object.keys(this.props.current_list).length}},{key:"render",value:function(){var e=this,t=this.props,a=t.is_mt5_reset_password_modal_enabled,r=t.setMt5PasswordResetModal,o=t.current_list;return i.createElement(s.Modal,{className:"mt5-reset-password-modal",is_open:a,toggleModal:function(){return r(!1)},title:(0,u.localize)("Reset DMT5 password")},!this.is_list_fetched&&!this.state.has_error&&i.createElement(s.Loading,{is_fullscreen:!1}),this.is_list_fetched&&!this.state.has_error&&!this.state.is_finished&&i.createElement(xt,{current_list:o},(function(t){var a=t.title,r=t.type,o=t.login;return i.createElement(n.J9,{initialValues:{new_password:""},validate:e.validatePassword,onSubmit:function(t,a){return e.resetPassword(t,r,o,a)}},(function(e){var t=e.handleSubmit,n=e.errors,o=e.values,c=e.isSubmitting,d=e.handleChange,m=e.handleBlur,_=e.touched;return i.createElement("form",{autoComplete:"off",onSubmit:t},i.createElement("div",{className:"mt5-reset-password"},i.createElement("div",{className:"mt5-reset-password__container"},i.createElement("h2",{className:"mt5-reset-password__heading"},i.createElement(u.Localize,{i18n_default_text:"Reset DMT5 {{title}} password",values:{title:a}})),i.createElement("div",{className:"mt5-reset-password__password-area"},i.createElement(s.PasswordMeter,{input:o.new_password,has_error:!(!_.new_password||!n.new_password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var t=e.has_warning;return i.createElement(s.PasswordInput,{autoComplete:"new-password",className:"mt5-reset-password__password-field",name:"new_password",label:(0,u.localize)("New {{type}} password",{type:r}),onChange:d,onBlur:m,error:_.new_password&&n.new_password,value:o.new_password,"data-lpignore":"true",required:!0,hint:!t&&(0,u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers.")})}))),c&&i.createElement(s.Loading,{is_fullscreen:!1}),!c&&i.createElement(s.FormSubmitButton,{is_disabled:c||!o.new_password||Object.keys(n).length>0,errors:n,is_center:!0,large:!0,label:(0,u.localize)("Create {{type}} password",{type:r})}))))}))})),this.state.has_error&&i.createElement("div",{className:"mt5-reset-password__error"},i.createElement(s.Icon,{icon:"IcMt5Expired",size:128}),i.createElement(s.Text,{as:"p",size:"xs",weight:"bold",align:"center",className:"mt5-reset-password__heading"},this.state.error_message),i.createElement(s.Text,{as:"p",color:"prominent",size:"xs",align:"center",className:"mt5-reset-password__description--is-centered"},i.createElement(u.Localize,{i18n_default_text:"Please request a new password and check your email for the new token."})),i.createElement(s.Button,{primary:!0,large:!0,onClick:function(){e.clearAddressBar(),r(!1)}},i.createElement(u.Localize,{i18n_default_text:"Ok"}))),this.state.is_finished&&i.createElement("div",{className:"mt5-reset-password__success"},i.createElement(s.Icon,{icon:"IcMt5PasswordUpdated",size:128}),i.createElement("div",{className:"mt5-reset-password__heading"},i.createElement(u.Localize,{i18n_default_text:"Password saved"})),i.createElement("div",{className:"mt5-reset-password__description"},i.createElement(u.Localize,{i18n_default_text:"Your {{account_type}} password has been changed.",values:{account_type:"main"===this.state.changed_password_type?(0,u.localize)("main"):(0,u.localize)("investor")}})),i.createElement(s.Button,{primary:!0,large:!0,onClick:function(){return r(!1)}},i.createElement(u.Localize,{i18n_default_text:"Ok"}))))}}])&&gt(t.prototype,a),o}(i.Component);St.propTypes={email:r.string,is_mt5_reset_password_modal_enabled:r.any,setMt5PasswordResetModal:r.any,current_list:r.any};const Mt=(0,mt.withRouter)((0,f.$j)((function(e){var t=e.modules.mt5;return{email:e.client.email,is_mt5_reset_password_modal_enabled:t.is_mt5_reset_password_modal_enabled,setMt5PasswordResetModal:t.setMt5PasswordResetModal,current_list:t.current_list}}))(St)),Nt=(0,f.$j)((function(e){var t=e.ui,a=e.modules.mt5;return{enableApp:t.enableApp,disableApp:t.disableApp,toggleModal:a.closeMT5PendingDialog,is_mt5_pending_dialog_open:a.is_mt5_pending_dialog_open}}))((function(e){var t=e.enableApp,a=e.disableApp,n=e.toggleModal,r=e.is_mt5_pending_dialog_open;return i.createElement(s.Modal,{title:(0,u.localize)("Thanks for submitting your documents!"),className:"mt5-pending-dialog",is_open:r,disableApp:a,enableApp:t,toggleModal:n,has_close_icon:!1,small:!0},i.createElement(s.Modal.Body,null,i.createElement(u.Localize,{i18n_default_text:"We’ll process your documents within 1-3 days. Once they are verified, we’ll notify you via email."})),i.createElement(s.Modal.Footer,null,i.createElement(s.Button,{has_effect:!0,text:(0,u.localize)("OK"),onClick:n,primary:!0})))}));var Ot,jt,Pt,kt;function At(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Tt=(At(Ot={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),At(Ot,(0,u.localize)("Margin call"),(0,u.localize)("100%")),At(Ot,(0,u.localize)("Stop out level"),(0,u.localize)("50%")),At(Ot,(0,u.localize)("Number of assets"),(0,u.localize)("10+")),Ot),Ct=(At(jt={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),At(jt,(0,u.localize)("Margin call"),(0,u.localize)("150%")),At(jt,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),At(jt,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),jt),Dt=(At(Pt={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:30")),At(Pt,(0,u.localize)("Margin call"),(0,u.localize)("100%")),At(Pt,(0,u.localize)("Stop out level"),(0,u.localize)("50%")),At(Pt,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),Pt),It=(At(kt={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:100")),At(kt,(0,u.localize)("Margin call"),(0,u.localize)("150%")),At(kt,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),At(kt,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),kt),Lt=a("../../../node_modules/react-transition-group/esm/CSSTransition.js"),Ft=function(e){var t=e.text,a=e.className;return i.createElement("div",{className:a},i.createElement(s.Clipboard,{text_copy:t,info_message:(0,l.isMobile)()?"":(0,u.localize)("copy"),success_message:(0,u.localize)("copied!"),popoverAlignment:(0,l.isMobile)()?"left":"bottom"}))};function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Bt={synthetic:"IcMt5SyntheticPlatform",financial:"IcMt5FinancialPlatform",financial_stp:"IcMt5FinancialStpPlatform"},Wt=i.forwardRef((function(e,t){var a=e.onSelectAccount,n=e.is_disabled;return i.createElement("div",{onClick:n?null:a,className:m()("mt5-account-card__add-server",{"mt5-account-card__add-server--disabled":n}),ref:t},i.createElement("span",{className:"mt5-account-card__add-server--icon"},"+"),i.createElement(u.Localize,{i18n_default_text:"Add region"}))}));Wt.displayName="AddTradeServerButton";var Ut=function(e){var t=e.value;return i.createElement("div",{className:"mt5-account-card__spec-box"},i.createElement("span",{className:"mt5-account-card__spec-text"},t),i.createElement(Ft,{text:t,className:"mt5-account-card__spec-copy"}))},qt=function(e){var t=e.children,a=e.height,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.useState(!1),2),r=n[0],o=n[1],c=i.useRef();return i.useEffect((function(){c.current&&(c.current.style.height=r?"".concat(null!=a?a:c.current.scrollHeight,"px"):null)}),[r,c,a]),i.createElement("div",{className:"mt5-account-card__specification"},i.createElement(s.Text,{className:"mt5-account-card__specification-title",size:"xxs",as:"div",align:"center",color:"less-prominent",onClick:function(){o((function(e){return!e}))}},(0,u.localize)("Specification"),i.createElement(s.Icon,{className:m()("mt5-account-card__specification-icon",{"mt5-account-card__specification-icon--collapsed":r}),icon:"IcChevronDown",color:"secondary",size:12})),i.createElement("div",{ref:c,className:"mt5-account-card__specification-content"},t))},Vt=function(e){var t=e.button_label,a=e.handleClickSwitchAccount,n=e.has_real_account,r=e.is_accounts_switcher_on,o=e.is_button_primary,c=e.is_disabled,l=e.is_virtual,d=e.onSelectAccount,_=e.type;if(l&&n&&"real"===_.category&&"financial_stp"===_.type&&"function"==typeof a)return i.createElement("div",{className:"mt5-account-card__action-wrapper"},i.createElement(u.Localize,{i18n_default_text:"<0>Switch to your real account</0><1> to create a DMT5 Financial STP account.</1>",components:[i.createElement("a",{className:m()("mt5-account-card__action-wrapper__link link link--orange",{"mt5-account-card__action-wrapper__link--disabled":r}),key:0,onClick:a}),i.createElement(s.Text,{key:1,line_height:"s",size:"xxs"})]}));var p="real"===_.category?i.createElement(u.Localize,{i18n_default_text:"Add real account"}):i.createElement(u.Localize,{i18n_default_text:"Add demo account"}),f=t||p;return i.createElement(s.Button,{className:"mt5-account-card__account-selection",onClick:d,type:"button",is_disabled:c,primary:o,secondary:!o,large:!0},f)},$t=function(e){var t=e.button_label,a=e.commission_message,n=e.descriptor,r=e.is_hovered,o=e.existing_data,c=e.has_mt5_account,l=e.has_mt5_account_error,d=e.has_real_account,_=e.is_accounts_switcher_on,p=e.is_button_primary,f=e.is_disabled,g=e.is_logged_in,h=e.is_virtual,b=e.onHover,y=e.specs,v=e.title,w=e.type,E=e.onSelectAccount,z=e.onClickFund,x=e.onPasswordManager,S=e.should_show_trade_servers,M=e.toggleAccountsDialog,N=e.toggleShouldShowRealAccountsList,O=w.type?i.createElement(s.Icon,{icon:Bt[w.type],size:64}):null,j="synthetic"===w.type&&"real"===w.category&&!o,P="demo"===w.category,k=g&&o&&"real"===w.category&&"synthetic"===w.type&&(null==o?void 0:o.server_info),A=i.useRef(),T=i.useRef(),C=i.useRef();i.useEffect((function(){if(o){var e,t=function(){null==b||b(o.group)};return A.current.addEventListener("mouseenter",t),null==C||null===(e=C.current)||void 0===e||e.addEventListener("mouseenter",t),function(){var e;A.current.removeEventListener("mouseenter",t),null==C||null===(e=C.current)||void 0===e||e.removeEventListener("mouseenter",(function(){return t}))}}return function(){}}),[b]);var D=i.useCallback((function(e){return e?"".concat(e.server_info.geolocation.region," ").concat(1===e.server_info.geolocation.sequence?"":e.server_info.geolocation.sequence):""}),[o]);return i.createElement("div",{ref:T,className:"mt5-account-card__wrapper"},i.createElement("div",{className:m()("mt5-account-card",{"mt5-account-card__logged-out":!g}),ref:A},j&&i.createElement("div",{className:"mt5-account-card__banner"},i.createElement(u.Localize,{i18n_default_text:"Most popular"})),P&&i.createElement("div",{className:"mt5-account-card__banner mt5-account-card__banner--demo"},i.createElement(u.Localize,{i18n_default_text:"DEMO"})),k&&i.createElement("div",{className:"mt5-account-card__banner mt5-account-card__banner--server"},D(o)),i.createElement("div",{className:m()("mt5-account-card__type",{"mt5-account-card__type--has-banner":j||P||k}),id:"mt5_".concat(w.category,"_").concat(w.type)},O,i.createElement("div",{className:"mt5-account-card__type--description"},i.createElement("h1",{className:"mt5-account-card--heading"},v),(!o||!g)&&i.createElement("p",{className:"mt5-account-card--paragraph"},n),o&&o.display_balance&&g&&i.createElement("p",{className:"mt5-account-card--balance"},i.createElement(s.Money,{amount:o.display_balance,currency:o.currency,has_sign:o.balance<0,show_currency:!0})))),i.createElement("div",{className:"mt5-account-card__cta"},null!=o&&o.login&&g?i.createElement(i.Fragment,null,i.createElement(qt,{height:272},i.createElement("p",{className:"mt5-account-card__specification-description"},n),i.createElement("table",{className:"mt5-account-card__specs-table mt5-account-card__specification-table"},i.createElement("tbody",null,Object.keys(y).map((function(e,t){return i.createElement("tr",{key:t,className:"mt5-account-card__specs-table-row"},i.createElement("td",{className:"mt5-account-card__specs-table-attribute"},i.createElement("p",{className:"mt5-account-card--paragraph"},e)),i.createElement("td",{className:"mt5-account-card__specs-table-data"},i.createElement("p",{className:"mt5-account-card--paragraph"},y[e])))}))))),i.createElement("div",{className:"mt5-account-card__login-specs"},i.createElement(s.Text,{as:"p",color:"less-prominent",size:"xxxs",align:"left"},(0,u.localize)("Use below credential to login")),i.createElement("table",{className:"mt5-account-card__login-specs-table"},i.createElement("tbody",null,i.createElement("tr",{className:"mt5-account-card__login-specs-table-row"},i.createElement("td",{className:"mt5-account-card__login-specs-table-attribute"},i.createElement("div",{className:"mt5-account-card--paragraph"},(0,u.localize)("Broker"))),i.createElement("td",{className:"mt5-account-card__login-specs-table-data"},i.createElement("div",{className:"mt5-account-card--paragraph"},i.createElement(Ut,{value:"Deriv Limited"})))),i.createElement("tr",{className:"mt5-account-card__login-specs-table-row"},i.createElement("td",{className:"mt5-account-card__login-specs-table-attribute"},i.createElement("div",{className:"mt5-account-card--paragraph"},(0,u.localize)("Server"))),i.createElement("td",{className:"mt5-account-card__login-specs-table-data"},i.createElement("div",{className:"mt5-account-card--paragraph"},i.createElement(Ut,{value:o.server_info.environment})))),i.createElement("tr",{className:"mt5-account-card__login-specs-table-row"},i.createElement("td",{className:"mt5-account-card__login-specs-table-attribute"},i.createElement("div",{className:"mt5-account-card--paragraph"},(0,u.localize)("Login ID"))),i.createElement("td",{className:"mt5-account-card__login-specs-table-data"},i.createElement("div",{className:"mt5-account-card--paragraph"},i.createElement(Ut,{value:o.display_login})))))))):i.createElement("div",{className:"mt5-account-card__specs"},i.createElement("table",{className:"mt5-account-card__specs-table"},i.createElement("tbody",null,Object.keys(y).map((function(e,t){return i.createElement("tr",{key:t,className:"mt5-account-card__specs-table-row"},i.createElement("td",{className:"mt5-account-card__specs-table-attribute"},i.createElement("p",{className:"mt5-account-card--paragraph"},e)),i.createElement("td",{className:"mt5-account-card__specs-table-data"},i.createElement("p",{className:"mt5-account-card--paragraph"},y[e])))})),k&&o&&"synthetic"===w.type&&"real"===w.category&&i.createElement("tr",{key:o.server,className:"mt5-account-card__specs-table-row"},i.createElement("td",{className:"mt5-account-card__specs-table-attribute"},i.createElement("p",{className:"mt5-account-card--paragraph"},i.createElement(u.Localize,{i18n_default_text:"Trade server: "}))),i.createElement("td",{className:"mt5-account-card__specs-table-data"},i.createElement("p",{className:"mt5-account-card--paragraph"},D(o))))))),(!o&&a||!g)&&i.createElement("div",{className:"mt5-account-card__commission"},i.createElement(s.Text,{as:"p",color:"general",size:"xs",styles:{margin:"1.6rem auto"}},a)),o&&g&&i.createElement("div",{className:"mt5-account-card__manage"},i.createElement(s.Button,{onClick:function(){return z(o)},type:"button",secondary:!0},"real"===w.category&&i.createElement(u.Localize,{i18n_default_text:"Fund transfer"}),"demo"===w.category&&i.createElement(u.Localize,{i18n_default_text:"Fund top up"})),i.createElement(s.Button,{onClick:function(){x(o.login,v,w.category,w.type,o.server)},type:"button",secondary:!0},i.createElement(u.Localize,{i18n_default_text:"Password"}))),!o&&c&&i.createElement(s.Button,{className:"mt5-account-card__account-selection",onClick:E,type:"button"},i.createElement(u.Localize,{i18n_default_text:"Select"})),o&&g&&i.createElement("a",{className:"dc-btn mt5-account-card__account-selection mt5-account-card__account-selection--primary",type:"button",href:$e({category:w.category,loginid:o.display_login,server_name:o.server_info.environment}),target:"_blank",rel:"noopener noreferrer"},i.createElement(u.Localize,{i18n_default_text:"Trade on web terminal"})),!o&&!c&&g&&i.createElement(Vt,{button_label:t,handleClickSwitchAccount:function(){N(!0),M(!0)},has_real_account:d,is_accounts_switcher_on:_,is_button_primary:p,is_disabled:f,is_virtual:h,onSelectAccount:E,type:w})),i.createElement(i.Fragment,null,S&&i.createElement(s.MobileWrapper,null,i.createElement(Wt,{ref:C,onSelectAccount:E,is_disabled:l})))),i.createElement(s.DesktopWrapper,null,i.createElement(Lt.Z,{in:r&&S,timeout:0,classNames:"mt5-account-card__add-server",unmountOnExit:!0},i.createElement(Wt,{ref:C,onSelectAccount:E,is_disabled:l}))))};function Ht(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Yt=function(e){var t,a,n,r,o,c,s,l=e.is_eu,d=e.is_eu_country,m=e.has_maltainvest_account,_=e.has_mt5_account_error,p=e.openAccountNeededModal,f=e.standpoint,g=e.is_loading,h=e.is_logged_in,b=e.landing_companies,y=e.onSelectAccount,v=e.openAccountTransfer,w=e.current_list,E=e.has_mt5_account,z=e.openPasswordManager,x=!(null!=b&&null!==(t=b.mt_financial_company)&&void 0!==t&&t.financial_stp);return g?i.createElement("div",{className:"mt5-demo-accounts-display"},i.createElement(P.Z,null)):i.createElement("div",{className:"mt5-demo-accounts-display",style:{justifyContent:x?"center":"space-between"}},((null==b||null===(a=b.mt_gaming_company)||void 0===a?void 0:a.financial)||!h)&&i.createElement($t,{has_mt5_account:E,title:(0,u.localize)("Synthetic"),type:{category:"demo",type:"synthetic"},is_disabled:_,is_logged_in:h,existing_data:w[Object.keys(w).find((function(e){return e.startsWith("demo.synthetic")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){return y({category:"demo",type:"synthetic"})},onPasswordManager:z,onClickFund:function(){return v(w[Object.keys(w).find((function(e){return e.startsWith("demo.synthetic")}))],{category:"demo",type:"synthetic"})},descriptor:(0,u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:(n={},Ht(n,(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),Ht(n,(0,u.localize)("Margin call"),(0,u.localize)("100%")),Ht(n,(0,u.localize)("Stop out level"),(0,u.localize)("50%")),Ht(n,(0,u.localize)("Number of assets"),(0,u.localize)("10+")),n)}),((null==b||null===(r=b.mt_financial_company)||void 0===r?void 0:r.financial)||!h)&&i.createElement($t,{has_mt5_account:E,title:(0,u.localize)("Financial"),is_disabled:_,is_logged_in:h,type:{category:"demo",type:"financial"},existing_data:w[Object.keys(w).find((function(e){return e.startsWith("demo.financial@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){l&&!m&&f.iom?p("maltainvest",(0,u.localize)("Deriv Financial"),(0,u.localize)("DMT5 Demo Financial")):y({category:"demo",type:"financial"})},onPasswordManager:z,onClickFund:function(){return v(w[Object.keys(w).find((function(e){return e.startsWith("demo.financial@")}))],{category:"demo",type:"financial"})},descriptor:(0,u.localize)("Trade CFDs on forex, stocks & indices, commodities, and cryptocurrencies with leverage."),specs:l||d?Dt:(o={},Ht(o,(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),Ht(o,(0,u.localize)("Margin call"),(0,u.localize)("150%")),Ht(o,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),Ht(o,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),o)}),((null==b||null===(c=b.mt_financial_company)||void 0===c?void 0:c.financial_stp)||!h)&&i.createElement($t,{has_mt5_account:E,title:(0,u.localize)("Financial STP"),type:{category:"demo",type:"financial_stp"},is_disabled:_,is_logged_in:h,existing_data:w[Object.keys(w).find((function(e){return e.startsWith("demo.financial_stp@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){return y({category:"demo",type:"financial_stp"})},onPasswordManager:z,onClickFund:function(){return v(w[Object.keys(w).find((function(e){return e.startsWith("demo.financial_stp@")}))],{category:"demo",type:"financial_stp"})},descriptor:(0,u.localize)("Trade popular currency pairs and cryptocurrencies with straight-through processing order (STP)."),specs:(s={},Ht(s,(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:100")),Ht(s,(0,u.localize)("Margin call"),(0,u.localize)("150%")),Ht(s,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),Ht(s,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),s)}))};function Kt(e,t){if(e){if("string"==typeof e)return Xt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Xt(e,t):void 0}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Gt=function(e){var t,a,n,r=e.has_real_account,o=e.is_accounts_switcher_on,c=e.is_eu,d=e.is_eu_country,_=e.has_malta_account,p=e.has_maltainvest_account,f=e.has_mt5_account_error,g=e.is_fully_authenticated,h=e.is_pending_authentication,b=e.is_virtual,y=e.landing_companies,v=e.onSelectAccount,w=e.openAccountTransfer,E=e.openPasswordModal,z=e.isAccountOfTypeDisabled,x=e.current_list,S=e.has_mt5_account,M=e.openPasswordManager,N=e.account_settings,O=e.openAccountNeededModal,j=e.standpoint,P=e.is_logged_in,k=e.toggleAccountsDialog,A=e.toggleShouldShowRealAccountsList,T=e.can_have_more_real_synthetic_mt5,C=e.residence_list,D=P&&!c&&r&&T,I=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}(e,t)||Kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.useState(0),2),L=I[0],F=I[1],R=i.useMemo((function(){var e,t,a=N.citizen,n=N.tax_identification_number,r=N.tax_residence;return!!(a&&n&&r)||!(!a||!r)&&(null!==(e=null==y||null===(t=y.config)||void 0===t?void 0:t.tax_details_required)&&void 0!==e&&e||!C.filter((function(e){return e.value===r&&e.tin_format})).length)}),[N,C,y]),B=function(e,t,a){return e&&a?i.createElement(u.Localize,{i18n_default_text:"Set your password"}):t?i.createElement(u.Localize,{i18n_default_text:"Pending verification"}):i.createElement(u.Localize,{i18n_default_text:"Add real account"})}(g,h,R),W=!r||h,U=function(){c&&j.malta&&!_?O("malta",(0,u.localize)("Deriv Synthetic"),(0,u.localize)("DMT5 Synthetic")):v({type:"synthetic",category:"real"})},q=function(e){return w(x[(0,l.getMT5AccountListKey)(e)],{category:e.account_type,type:(0,l.getMT5AccountKey)(e.market_type,e.sub_account_type)})},V=function(e){var t=Object.keys(x).filter((function(e){return e.startsWith("real.synthetic")}));F(t.findIndex((function(t){return x[t].group===e})))},$=function(e){if(f)return!0;if(c){var t=(0,l.getAccountTypeFields)({category:"real",type:e});return z(null==t?void 0:t.account_type)}switch(e){case"synthetic":case"financial":return!r;case"financial_stp":return W;default:return!1}},H=P&&c||!P&&d,Y=((null==y||null===(t=y.mt_gaming_company)||void 0===t?void 0:t.financial)||!P)&&(Object.keys(x).some((function(e){return e.startsWith("real.synthetic")}))?Object.keys(x).filter((function(e){return e.startsWith("real.synthetic")})).reduce((function(e,t){return e.push(x[t]),e}),[]).map((function(e,t){return i.createElement($t,{key:t,has_mt5_account:S,has_mt5_account_error:f,title:(0,u.localize)("Synthetic"),is_hovered:t===L,is_disabled:$("synthetic"),type:{category:"real",type:"synthetic"},is_logged_in:P,should_show_trade_servers:D,existing_data:e,commission_message:(0,u.localize)("No commission"),onSelectAccount:U,onPasswordManager:M,onClickFund:q,descriptor:(0,u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:Tt,onHover:V})})):[i.createElement($t,{key:"real.synthetic",has_mt5_account:S,title:(0,u.localize)("Synthetic"),is_disabled:$("synthetic"),type:{category:"real",type:"synthetic"},is_logged_in:P,should_show_trade_servers:D,existing_data:void 0,commission_message:(0,u.localize)("No commission"),onSelectAccount:U,onPasswordManager:M,onClickFund:q,descriptor:(0,u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:Tt,onHover:V})]),K=((null==y||null===(a=y.mt_financial_company)||void 0===a?void 0:a.financial_stp)||!P)&&i.createElement($t,{key:"real.financial_stp",has_mt5_account:S,title:(0,u.localize)("Financial STP"),type:{category:"real",type:"financial_stp"},is_logged_in:P,existing_data:x[Object.keys(x).find((function(e){return e.startsWith("real.financial_stp@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){var e={category:"real",type:"financial_stp"};g&&R?E(e):(g||W)&&R||v(e)},button_label:B,is_button_primary:h,onPasswordManager:M,onClickFund:q,descriptor:(0,u.localize)("Trade popular currency pairs and cryptocurrencies with straight-through processing order (STP)."),specs:It,is_disabled:$("financial_stp"),is_virtual:b,has_real_account:r,toggleAccountsDialog:k,toggleShouldShowRealAccountsList:A,is_accounts_switcher_on:o}),X=((null==y||null===(n=y.mt_financial_company)||void 0===n?void 0:n.financial)||!P)&&i.createElement($t,{key:"real.financial",has_mt5_account:S,is_disabled:$("financial"),title:(0,u.localize)("Financial"),type:{category:"real",type:"financial"},existing_data:x[Object.keys(x).find((function(e){return e.startsWith("real.financial@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){c&&!p?O("maltainvest",(0,u.localize)("Deriv Financial"),(0,u.localize)("DMT5 Real Financial")):v({type:"financial",category:"real"})},onPasswordManager:M,onClickFund:q,descriptor:(0,u.localize)("Trade CFDs on forex, stocks & indices, commodities, and cryptocurrencies with leverage."),specs:H?Dt:Ct,is_logged_in:P}),G=[].concat(function(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Y||[]),[X,K]).filter(Boolean);return i.createElement("div",{className:m()("mt5-real-accounts-display",{"mt5-real-accounts-display--has-trade-servers":D}),style:{justifyContent:G.length<3?"center":"space-between"}},i.createElement(s.DesktopWrapper,null,i.createElement(s.Carousel,{list:G,width:328,nav_position:"middle",show_bullet:!1,item_per_window:3,is_mt5:!0})),i.createElement(s.MobileWrapper,null,G.map((function(e){return e}))))};function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t,a,n,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ea(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ta(e,t){return(ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aa(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ra=function(e){var t=e.children,a=e.is_loading,n=e.loading_component,r=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","is_loading","loading_component"]),o=n;return a?i.createElement(o,null):i.createElement(s.Tabs,r,t)},oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ta(e,t)}(c,e);var t,a,n,r,o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=na(e);if(t){var r=na(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return aa(this,a)}}(c);function c(){var e;Qt(this,c);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).state={active_index:0,is_account_needed_modal_open:!1,is_demo_tab:!0,required_account:{},password_manager:{is_visible:!1,selected_login:"",selected_account:"",selected_account_type:"",selected_account_group:"",selected_server:""}},e.openResetPassword=function(){/reset-password/.test(e.props.location.hash)&&e.props.setMt5PasswordResetModal(!0)},e.getIndexToSet=function(){if(e.props.location.hash)return/demo/.test(e.props.location.hash)?1:0},e.updateActiveIndex=function(t){var a={};1===t?a.is_demo_tab=!0:0===t&&(a.is_demo_tab=!1);var n=e.getIndexToSet();e.state.active_index!==n&&(a.active_index=n),(0,l.isEmptyObject)(a)||e.setState(a)},e.openAccountTransfer=function(t,a){"real"===a.category?(sessionStorage.setItem("mt5_transfer_to_login_id",t.login),e.props.disableMt5PasswordModal(),e.props.history.push(l.routes.cashier_acc_transfer)):(e.props.setCurrentAccount(t,a),e.props.openTopUpModal())},e.togglePasswordManagerModal=function(t,a,n,r,o){e.setState((function(e){return{active_index:e.active_index,password_manager:{is_visible:!e.password_manager.is_visible,selected_login:"string"==typeof t?t:"",selected_account:"string"==typeof a?a:"",selected_account_group:n,selected_account_type:r,selected_server:o}}}))},e.openRealPasswordModal=function(t){e.props.setAccountType(t),e.props.openPasswordModal()},e}return t=c,(a=[{key:"componentDidMount",value:(n=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateActiveIndex(this.getIndexToSet()),this.openResetPassword(),this.props.onMount();case 3:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,t=arguments;return new Promise((function(a,r){var o=n.apply(e,t);function i(e){Zt(o,a,r,i,c,"next",e)}function c(e){Zt(o,a,r,i,c,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"componentDidUpdate",value:function(){this.updateActiveIndex(),this.props.checkShouldOpenAccount()}},{key:"render",value:function(){var e=this.props,t=e.account_settings,a=e.account_status,n=e.beginRealSignupForMt5,r=e.country,o=e.createMT5Account,c=e.current_list,d=e.isAccountOfTypeDisabled,m=e.is_accounts_switcher_on,_=e.is_eu,p=e.is_eu_country,f=e.is_fully_authenticated,g=e.is_loading,h=e.is_logged_in,b=e.is_logging_in,y=e.is_mt5_allowed,v=e.is_pending_authentication,w=e.is_virtual,E=e.landing_companies,z=e.has_malta_account,x=e.has_maltainvest_account,S=e.has_mt5_account,M=e.has_mt5_account_error,O=e.mt5_disabled_signup_types,P=e.has_real_account,A=e.NotificationMessages,C=e.openAccountNeededModal,D=e.residence_list,I=e.standpoint,L=e.toggleAccountsDialog,F=e.toggleShouldShowRealAccountsList,R=e.can_have_more_real_synthetic_mt5,B=e.upgradeable_landing_companies,W=!_&&h&&!P&&(null==B?void 0:B.length)>0;return!r&&h||b?i.createElement(s.Loading,null):i.createElement(i.Fragment,null,y||!h?i.createElement("div",{className:"mt5-dashboard__container"},i.createElement(A,null),i.createElement("div",{className:"mt5-dashboard"},i.createElement("div",{className:"mt5-dashboard__welcome-message"},i.createElement("h1",{className:"mt5-dashboard__welcome-message--heading"},h?i.createElement(u.Localize,{i18n_default_text:"Welcome to your MetaTrader 5 (DMT5 account dashboard)"}):i.createElement(u.Localize,{i18n_default_text:"Welcome to MetaTrader 5 (DMT5 account dashboard)"}))),M&&i.createElement("div",{className:"mt5-dashboard__accounts-error"},i.createElement(s.Text,{as:"p",className:"mt5-dashboard__accounts-error-message",lineHeight:"l",size:"xxs",color:"prominent",weight:"normal",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Due to an issue on our server, some of your MT5 accounts are unavailable at the moment. Please bear with us and thank you for your patience."}))),i.createElement("div",{className:"mt5-dashboard__accounts-display"},i.createElement(lt,{is_visible:this.state.password_manager.is_visible,selected_login:this.state.password_manager.selected_login,selected_account:this.state.password_manager.selected_account,selected_account_group:this.state.password_manager.selected_account_group,selected_account_type:this.state.password_manager.selected_account_type,selected_server:this.state.password_manager.selected_server,toggleModal:this.togglePasswordManagerModal}),i.createElement(ra,{active_index:this.state.active_index,top:!0,center:!0,is_loading:g,is_logged_in:h,loading_component:k,onTabItemClick:this.updateActiveIndex,should_update_hash:!0},i.createElement("div",{label:(0,u.localize)("Real account"),"data-hash":"real"},i.createElement(i.Fragment,null,W&&i.createElement(T,{onClickSignup:n}),i.createElement(Gt,{is_accounts_switcher_on:m,is_eu:_,is_eu_country:p,is_logged_in:h,has_maltainvest_account:x,has_malta_account:z,has_mt5_account_error:O.demo,openAccountNeededModal:C,current_list:c,account_status:a,has_mt5_account:S,onSelectAccount:o,account_settings:t,landing_companies:E,is_pending_authentication:v,is_fully_authenticated:f,is_virtual:w,openAccountTransfer:this.openAccountTransfer,openPasswordManager:this.togglePasswordManagerModal,openPasswordModal:this.openRealPasswordModal,isAccountOfTypeDisabled:d,has_real_account:P,standpoint:I,toggleAccountsDialog:L,toggleShouldShowRealAccountsList:F,can_have_more_real_synthetic_mt5:R,residence_list:D}))),i.createElement("div",{label:(0,u.localize)("Demo account"),"data-hash":"demo"},i.createElement(Yt,{is_eu:_,is_logged_in:h,has_maltainvest_account:x,has_mt5_account_error:O.real,openAccountNeededModal:C,standpoint:I,is_loading:g,has_mt5_account:S,current_list:c,onSelectAccount:o,landing_companies:E,openAccountTransfer:this.openAccountTransfer,openPasswordManager:this.togglePasswordManagerModal}))),i.createElement(qe,null),i.createElement("div",{className:"mt5-dashboard__maintenance"},i.createElement(s.Icon,{icon:"IcAlertWarning",size:(0,l.isMobile)()?28:16,className:"mt5-dashboard__maintenance-icon"}),i.createElement("div",{className:"mt5-dashboard__maintenance-text"},i.createElement(u.Localize,{i18n_default_text:"Server maintenance starting 01:00 GMT every Sunday. This process may take up to 2 hours to complete. Service may be disrupted during this time."})))),i.createElement(s.DesktopWrapper,null,i.createElement(He,null)),i.createElement(s.MobileWrapper,null,i.createElement("div",{className:"mt5-dashboard__download-center"},i.createElement("h1",{className:"mt5-dashboard__download-center--heading"},i.createElement(u.Localize,{i18n_default_text:"Download the MT5 app"})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile"},i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-devices"},i.createElement(s.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),i.createElement(s.Icon,{icon:"IcMt5DevicePhone",width:48,height:74})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-links"},i.createElement("a",{href:Ve("android"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),i.createElement("a",{href:Ve("ios"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationApple",width:135,height:40})))))),i.createElement(dt,null),i.createElement(N,null),i.createElement(j,null),i.createElement(Te,null),i.createElement(Nt,null),i.createElement(Mt,null))):i.createElement(s.PageError,{buttonSize:"medium",header:i.createElement(u.Localize,{i18n_default_text:"DMT5 is not available in {{country}}",values:{country:t.residence},components:[i.createElement("br",{key:0})]}),messages:[i.createElement(u.Localize,{key:0,i18n_default_text:"Please explore our other platforms."})],redirect_urls:[l.routes.trade,l.routes.bot],redirect_labels:[i.createElement(u.Localize,{key:0,i18n_default_text:"Explore DTrader"}),i.createElement(u.Localize,{key:1,i18n_default_text:"Explore DBot"})]}))}}])&&ea(t.prototype,a),c}(i.Component);const ia=(0,c.withRouter)((0,f.$j)((function(e){var t=e.client,a=e.modules,n=e.ui;return{beginRealSignupForMt5:a.mt5.beginRealSignupForMt5,checkShouldOpenAccount:a.mt5.checkShouldOpenAccount,country:t.account_settings.residence,client_email:t.email_address,createMT5Account:a.mt5.createMT5Account,current_list:a.mt5.current_list,landing_companies:t.landing_companies,isAccountOfTypeDisabled:t.isAccountOfTypeDisabled,is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_virtual:t.is_virtual,is_mt5_allowed:t.is_mt5_allowed,mt5_disabled_signup_types:t.mt5_disabled_signup_types,has_maltainvest_account:t.has_maltainvest_account,has_malta_account:t.has_malta_account,can_upgrade_to:t.can_upgrade_to,account_settings:t.account_settings,disableMt5PasswordModal:a.mt5.disableMt5PasswordModal,is_pending_authentication:t.is_pending_authentication,is_compare_accounts_visible:a.mt5.is_compare_accounts_visible,is_fully_authenticated:t.is_fully_authenticated,openPasswordModal:a.mt5.enableMt5PasswordModal,openAccountNeededModal:n.openAccountNeededModal,is_loading:t.is_populating_mt5_account_list,residence:t.residence,residence_list:t.residence_list,has_mt5_account:a.mt5.has_mt5_account,has_mt5_account_error:t.has_account_error_in_mt5_list,has_real_account:t.has_active_real_account,setAccountType:a.mt5.setAccountType,setMt5PasswordResetModal:a.mt5.setMt5PasswordResetModal,setCurrentAccount:a.mt5.setCurrentAccount,standpoint:t.standpoint,toggleCompareAccounts:a.mt5.toggleCompareAccountsModal,is_accounts_switcher_on:n.is_accounts_switcher_on,openTopUpModal:n.openTopUpModal,NotificationMessages:n.notification_messages_ui,onMount:a.mt5.onMount,onUnmount:a.mt5.onUnmount,toggleAccountsDialog:n.toggleAccountsDialog,toggleShouldShowRealAccountsList:n.toggleShouldShowRealAccountsList,can_have_more_real_synthetic_mt5:t.can_have_more_real_synthetic_mt5,upgradeable_landing_companies:t.upgradeable_landing_companies}}))(oa))},"./templates/_common/components/loading.jsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a("../../../node_modules/classnames/index.js"),r=a.n(n),o=a("react");const i=function(e){var t=e.className,a=e.is_invisible,n=e.theme,i=e.id;return o.createElement("div",{id:i,className:r()("barspinner","barspinner--".concat(n||"dark"),{invisible:a},t)},Array.from(new Array(5)).map((function(e,t){return o.createElement("div",{key:t,className:"barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})})))}}}]);